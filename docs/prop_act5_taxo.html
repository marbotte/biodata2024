<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="es_CL" xml:lang="es_CL">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Talleres Biodata 2024: Taxonomía</title>

  <meta property="description" itemprop="description" content="Explorar los estándares EML y Darwin Core"/>



  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Talleres Biodata 2024: Taxonomía"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Explorar los estándares EML y Darwin Core"/>
  <meta property="og:locale" content="es_CL"/>
  <meta property="og:site_name" content="Talleres Biodata 2024"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Talleres Biodata 2024: Taxonomía"/>
  <meta property="twitter:description" content="Explorar los estándares EML y Darwin Core"/>

  <!--/radix_placeholder_meta_tags-->
  
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","lang","description","output","bibliography"]}},"value":[{"type":"character","attributes":{},"value":["Taxonomía"]},{"type":"character","attributes":{},"value":["es_CL"]},{"type":"character","attributes":{},"value":["Explorar los estándares EML y Darwin Core"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_float","fig_caption","pandoc_args"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["--number-sections"]}]}]},{"type":"character","attributes":{},"value":["./biodata2024.bib"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Taxonomía","description":"Explorar los estándares EML y Darwin Core","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">Talleres Biodata 2024</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Antes de empezar
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="doc_config.html">Connexión, configuración y uso de software</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
R y SQL
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="https://docs.google.com/presentation/d/1q0X60VRCAIJG-NjIKe1hPIw2uxlk_w1_/edit?usp=sharing&amp;ouid=116883851522713757892&amp;rtpof=true&amp;sd=true">Introducción: Marius Bottin y Instituto Humboldt</a>
<hr/>
<span class="nav-dropdown-header">Actividad</span>
<hr/>
<a href="https://docs.google.com/presentation/d/18plX_FYs_ZnBU39r26qxVQkoRkw0cNedyKuEcXFhhGE/edit?usp=sharing">Introducción</a>
<a href="act_1_1_SQL.html">Actividad 1.1: SQL</a>
<a href="prop_act_1_1_SQL.html">Propuesta de solución actividad 1.1</a>
<a href="act_1_2_R.html">Actividad 1.2: R</a>
<a href="prop_act_1_2_R.html">Propuesta de solución actividad 1.2</a>
<hr/>
<span class="nav-dropdown-header">Documentación SQL</span>
<hr/>
<a href="doc_SQL_simple.html">Consultas simples</a>
<a href="doc_SQL_consultas_avanzadas.html">Consultas tablas múltiples</a>
<hr/>
<span class="nav-dropdown-header">Documentación R</span>
<hr/>
<a href="doc_R_clases_modos.html">Modos y clases</a>
<a href="doc_R_import_export.html">Importar y exportar datos</a>
<a href="doc_R_buscarRelacionar.html">Buscar datos y relacionar objetos</a>
<a href="doc_R_structuraControl.html">Bucles, funciones y estructuras de control</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Estándares
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="https://docs.google.com/presentation/d/1fMp8PnBGWLQrFQEBt1VFVJAJGTdCViTSpWEcO8xd8BQ/edit?usp=drive_link">Introducción</a>
<a href="act_2_estandares.html">Actividad: Explorar Darwin Core y Ecological Metadata Language</a>
<a href="prop_act_2_estandares.html">propuesta de solucion actividad 2</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Taxonomía
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="act_5_taxonomia.html">Actividad: manejar la taxonomía en los datos de biodiversidad</a>
<a href="prop_act5_taxo.html">Propuesta de solución para los ejercicios de taxonomía</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Datos espaciales
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="act_6_espacial.html">Actividad: datos espaciales</a>
<a href="prop_act6_espacial.html">Propuesta de solución para los ejercicios de datos espaciales</a>
</div>
</div>
</div>
<div class="nav-right">
<div class="nav-dropdown">
<button class="nav-dropbtn">
Instalación de software
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="inst_gen.html">Generalidades</a>
<a href="inst_R.html">R y RStudio</a>
<a href="inst_SQL.html">SQL</a>
<a href="inst_espac.html">Software para datos espaciales</a>
</div>
</div>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Taxonomía</h1>

<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p>Explorar los estándares EML y Darwin Core</p>
</div>


<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#ejercicio-1-tratamiento-de-nombres-de-taxones-en-sql-busqueda-en-taxize" id="toc-ejercicio-1-tratamiento-de-nombres-de-taxones-en-sql-busqueda-en-taxize"><span class="toc-section-number">1</span> Ejercicio 1: tratamiento de nombres de taxones en SQL, busqueda en taxize</a>
<ul>
<li><a href="#instalación-de-taxize" id="toc-instalación-de-taxize"><span class="toc-section-number">1.1</span> Instalación de taxize</a>
<ul>
<li><a href="#generalidades-para-la-instalación-de-paquetes-en-casos-problematicos" id="toc-generalidades-para-la-instalación-de-paquetes-en-casos-problematicos"><span class="toc-section-number">1.1.1</span> Generalidades para la instalación de paquetes en casos problematicos</a></li>
<li><a href="#instalación-concreta" id="toc-instalación-concreta"><span class="toc-section-number">1.1.2</span> Instalación concreta</a></li>
</ul></li>
<li><a href="#preparación-carga-de-paquetes-y-conexión-a-la-base-de-datos" id="toc-preparación-carga-de-paquetes-y-conexión-a-la-base-de-datos"><span class="toc-section-number">1.2</span> Preparación: carga de paquetes y conexión a la base de datos</a></li>
<li><a href="#la-tabla-espeletia" id="toc-la-tabla-espeletia"><span class="toc-section-number">1.3</span> La tabla espeletia</a>
<ul>
<li><a href="#obtener-los-nombres-completos" id="toc-obtener-los-nombres-completos"><span class="toc-section-number">1.3.1</span> Obtener los nombres completos</a></li>
<li><a href="#buscar-los-nombres-en-bases-de-datos-publicas" id="toc-buscar-los-nombres-en-bases-de-datos-publicas"><span class="toc-section-number">1.3.2</span> Buscar los nombres en bases de datos publicas</a></li>
<li><a href="#manejar-sinonimos" id="toc-manejar-sinonimos"><span class="toc-section-number">1.3.3</span> Manejar sinonimos</a></li>
<li><a href="#explorar-las-classificaciones" id="toc-explorar-las-classificaciones"><span class="toc-section-number">1.3.4</span> Explorar las classificaciones</a></li>
</ul></li>
<li><a href="#alternativa-utilizar-taxizedb" id="toc-alternativa-utilizar-taxizedb"><span class="toc-section-number">1.4</span> Alternativa: utilizar <code>taxizedb</code></a>
<ul>
<li><a href="#descargar-la-base-de-datos-publica" id="toc-descargar-la-base-de-datos-publica"><span class="toc-section-number">1.4.1</span> Descargar la base de datos publica</a></li>
<li><a href="#opcional-mirar-la-base-de-datos-en-sql" id="toc-opcional-mirar-la-base-de-datos-en-sql"><span class="toc-section-number">1.4.2</span> (opcional) Mirar la base de datos en SQL</a></li>
<li><a href="#buscar-la-lista-de-los-taxones-de-espeletia" id="toc-buscar-la-lista-de-los-taxones-de-espeletia"><span class="toc-section-number">1.4.3</span> Buscar la lista de los taxones de Espeletia</a></li>
<li><a href="#explorar-las-posibilidades-de-exploración-taxónomica" id="toc-explorar-las-posibilidades-de-exploración-taxónomica"><span class="toc-section-number">1.4.4</span> Explorar las posibilidades de exploración taxónomica:</a></li>
</ul></li>
</ul></li>
<li><a href="#ejercicio-3-explorar-el-sistema-taxonomico-de-la-base-puerto_wilches" id="toc-ejercicio-3-explorar-el-sistema-taxonomico-de-la-base-puerto_wilches"><span class="toc-section-number">2</span> Ejercicio 3: Explorar el sistema taxonomico de la base puerto_wilches</a>
<ul>
<li><a href="#cargar-paquetes-y-conectarse" id="toc-cargar-paquetes-y-conectarse"><span class="toc-section-number">2.1</span> Cargar paquetes y conectarse</a></li>
<li><a href="#tables-principales-del-sistema-taxonomico" id="toc-tables-principales-del-sistema-taxonomico"><span class="toc-section-number">2.2</span> Tables principales del sistema taxonomico</a></li>
<li><a href="#uso-en-la-base-de-datos" id="toc-uso-en-la-base-de-datos"><span class="toc-section-number">2.3</span> Uso en la base de datos</a></li>
<li><a href="#función-para-obtener-los-rangos-taxonomicos-más-altos" id="toc-función-para-obtener-los-rangos-taxonomicos-más-altos"><span class="toc-section-number">2.4</span> Función para obtener los rangos taxonomicos más altos</a></li>
</ul></li>
<li><a href="#salir-y-cerrar-la-puerta" id="toc-salir-y-cerrar-la-puerta"><span class="toc-section-number">3</span> Salir y cerrar la puerta</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<h1 data-number="1" id="ejercicio-1-tratamiento-de-nombres-de-taxones-en-sql-busqueda-en-taxize"><span class="header-section-number">1</span> Ejercicio 1: tratamiento de nombres de taxones en SQL, busqueda en taxize</h1>
<p>En el taller tuvimos dificultades para instalar el paquete <code>taxize</code>.
Parece que el paquete fue sacado del CRAN.
No entiendo realmente porque, pero podría tener algo que ver con el desarrollo de una nueva forma de publicar los paquetes de R que se llama <a href="https://r-universe.dev/search">r-universe</a>.
Es relativamente nuevo, pero vale la pena seguir las noticias de r-universe para adaptar la forma de instalar los paquetes…
Mientras estaba buscando información, me dí cuenta de la existencia de un otro paquete que tiene muchas ventajas: <code>taxizedb</code>.
Lastimosamente, no me había enterado de este nuevo paquete, antes del taller.
Entonces, lo que voy a hacer es presentarles las soluciones con el paquete <code>taxize</code>, para que tienen una explicación de lo que hicimos en el taller en Concepción, sin embargo, les presentaré en este documento una solución mucho más interesante con los paquetes <code>taxizedb</code> y/o <code>taxadb</code>.</p>
<h2 data-number="1.1" id="instalación-de-taxize"><span class="header-section-number">1.1</span> Instalación de taxize</h2>
<h3 data-number="1.1.1" id="generalidades-para-la-instalación-de-paquetes-en-casos-problematicos"><span class="header-section-number">1.1.1</span> Generalidades para la instalación de paquetes en casos problematicos</h3>
<p>Para cada paquete y/o su(s) dependencias(s) problematica(s), seguir las etapas siguientes, hasta que una de ellas funcione:</p>
<ol type="1">
<li>Intentar instalar desde CRAN con la interfaz de Rstudio o la función install.package</li>
<li>Intentar instalar desde github:
<ul>
<li>buscar en github y anotar la pareja “usuario/paquete” que sirve de identificador para github, por ejemplo para taxize es `ropensci/taxize``</li>
<li>utilizar los comandos <code>library(devtools)</code> y <code>install_github("usuario/paquete")</code></li>
</ul></li>
<li>Descargar manualmente las fuentes y instalar los paquete por seleccionar <code>Install from</code>: <code>Package Archive file</code> en la herramienta de institucional de GitHub.
<ul>
<li>si la instalación en github no funcionó por un error de la API de GitHub de tipo “API rate limit excess”, descargar el codigo fuente del paquete en github desde:
<ul>
<li><a href="https://github.com/*usuario*/*paquete*/archive/master.tar.gz" class="uri">https://github.com/*usuario*/*paquete*/archive/master.tar.gz</a></li>
<li><a href="https://github.com/*usuario*/*paquete*/archive/main.tar.gz" class="uri">https://github.com/*usuario*/*paquete*/archive/main.tar.gz</a></li>
</ul></li>
<li>si, definitivamente, las versiones de los paquetes en GitHub no les funcionan, ir a: <a href="https://cran.r-project.org/web/packages/*paquete*/index.html" class="uri">https://cran.r-project.org/web/packages/*paquete*/index.html</a>, acá, buscar “Package source”, o “<em>paquete</em> archive” para descargar las versiones anteriores del paquete</li>
</ul></li>
</ol>
<h3 data-number="1.1.2" id="instalación-concreta"><span class="header-section-number">1.1.2</span> Instalación concreta</h3>
<p>La forma más simple de instalar los paquetes (es lo que hace la interfaz de instalación en RStudio)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;taxize&quot;</span>)</span></code></pre></div>
<p>Si les funciona, ¡genial!</p>
<p>Si tienen dificultades con la instalación de taxize:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Si tienen problemas con bold:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ropensci/bold&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ropensci/taxize&quot;</span>)</span></code></pre></div>
<p>Si todavía no les funciona, seguir las instrucciones en el parafo anterior.</p>
<h2 data-number="1.2" id="preparación-carga-de-paquetes-y-conexión-a-la-base-de-datos"><span class="header-section-number">1.2</span> Preparación: carga de paquetes y conexión a la base de datos</h2>
<p>Cargar los paquetes:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rpostgres.r-dbi.org'>RPostgres</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/taxize/'>taxize</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Conexion a biodata1:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>pg_biodata1<span class="ot">&lt;-</span><span class="fu">dbConnect</span>(<span class="fu">Postgres</span>(),<span class="at">dbname=</span><span class="st">&quot;biodata1&quot;</span>,<span class="at">host=</span><span class="st">&quot;54.94.221.113&quot;</span>,<span class="at">user=</span><span class="st">&quot;******&quot;</span>,<span class="at">password=</span><span class="st">&quot;*****&quot;</span>)</span></code></pre></div>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>Anotar: si no se pueden conectar a la base de datos en postgres (biodata paga para tener esta base de datos en Amazon y entonces, no la van a guardar por siempre allá), pueden utilizar:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sl_biodata1<span class="ot">&lt;-</span><span class="fu">dbConnect</span>(<span class="fu">SQLite</span>(),<span class="at">dbname=</span><span class="st">&quot;../Datos/biodata1.sqlite&quot;</span>)</span></code></pre></div>
<p>En este caso, cambiar pg_biodata1 por sl_biodata1 en los codigos siguientes.</p>
<h2 data-number="1.3" id="la-tabla-espeletia"><span class="header-section-number">1.3</span> La tabla espeletia</h2>
<p>La 20 primeras filas de la tabla espeletia son:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> espeletia</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-3">Table 1: </span>Displaying records 1 - 20</caption>
<thead>
<tr class="header">
<th style="text-align: left;">rank</th>
<th style="text-align: left;">genus</th>
<th style="text-align: left;">spec_epith</th>
<th style="text-align: left;">subsp</th>
<th style="text-align: left;">var</th>
<th style="text-align: left;">form</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">almorzana</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. latifolia</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">argentea</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. phaneractis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">brassicoidea</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. constricta</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">brassicoidea</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. minorifolia</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">brassicoidea</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. contracta</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">grandiflora</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. longiligulata</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">grandiflora</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. multiflora</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">grandiflora</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. longiligulata</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">grandiflora</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. multiflora</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">grandiflora</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. reducta</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">grandiflora</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. reducta</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">incana</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. prolificens</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">lopezii</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. alticola</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">lopezii</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. alticola</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">pachoana</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. brevifolia</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">petiolata</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. corymbosa</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">petiolata</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">fo. reducta</td>
</tr>
<tr class="even">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">pycnophylla</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. cochensis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">tunjana</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">f. magnificens</td>
</tr>
<tr class="even">
<td style="text-align: left;">GN</td>
<td style="text-align: left;">Espeletia</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Cuales son los rangos taxonómicos que encontramos en la tabla “espeletia” de la base de datos “biodata1”</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbReadTable.html'>dbReadTable</a></span><span class='op'>(</span><span class='va'>pg_biodata1</span>,<span class='st'>"espeletia"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>rank</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] &quot;FORM&quot; &quot;GN&quot;   &quot;SP&quot;   &quot;SSP&quot;  &quot;VAR&quot; </code></pre>
</div>
<p>Como lo pueden ver, la información taxonomica (el nombre completo de los taxones) está repartido entre varias columnas, que nos toca juntar.</p>
<h3 data-number="1.3.1" id="obtener-los-nombres-completos"><span class="header-section-number">1.3.1</span> Obtener los nombres completos</h3>
<p>El problema es que las columnas que nos permiten hacer la concatenación dependen del rango de las especies.
Para hacer eso en SQL y recuperar los nombres completos vamos a utilizar (ver <a href="doc_SQL_simple.html#utilizar">documentación</a>):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">CASE</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">WHEN</span> <span class="ot">&quot;rank&quot;</span><span class="op">=</span><span class="st">&#39;SP&#39;</span> <span class="cf">THEN</span> genus <span class="op">||</span> spec_epith</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">WHEN</span> <span class="ot">&quot;rank&quot;</span><span class="op">=</span><span class="st">&#39;GN&#39;</span> <span class="cf">THEN</span> genus</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">WHEN</span> <span class="ot">&quot;rank&quot;</span><span class="op">=</span><span class="st">&#39;SSP&#39;</span> <span class="cf">THEN</span> genus <span class="op">||</span> spec_epith <span class="op">||</span> subsp</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">WHEN</span> <span class="ot">&quot;rank&quot;</span><span class="op">=</span><span class="st">&#39;VAR&#39;</span> <span class="cf">THEN</span> genus <span class="op">||</span> spec_epith <span class="op">||</span> var</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">WHEN</span> <span class="ot">&quot;rank&quot;</span><span class="op">=</span><span class="st">&#39;FORM&#39;</span> <span class="cf">THEN</span> genus <span class="op">||</span> spec_epith <span class="op">||</span> form</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">END</span> <span class="kw">AS</span> name</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> espeletia</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-5">Table 2: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Espeletia almorzana f. latifolia</td>
</tr>
<tr class="even">
<td style="text-align: left;">Espeletia argentea f. phaneractis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Espeletia brassicoidea f. constricta</td>
</tr>
<tr class="even">
<td style="text-align: left;">Espeletia brassicoidea f. minorifolia</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Espeletia brassicoidea fo. contracta</td>
</tr>
<tr class="even">
<td style="text-align: left;">Espeletia grandiflora f. longiligulata</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Espeletia grandiflora f. multiflora</td>
</tr>
<tr class="even">
<td style="text-align: left;">Espeletia grandiflora fo. longiligulata</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Espeletia grandiflora fo. multiflora</td>
</tr>
<tr class="even">
<td style="text-align: left;">Espeletia grandiflora fo. reducta</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Ahora utilizamos esa consulta a SQL desde la conexión que creamos en R.
Anotar que utilizamos <em>"</em> en nuestra función <code>dbGetQuery</code> por qué la consulta entera está entre comillas en la función.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>espeletia_name</span><span class='op'>&lt;-</span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbGetQuery.html'>dbGetQuery</a></span><span class='op'>(</span><span class='va'>pg_biodata1</span>,</span>
<span><span class='st'>"SELECT </span></span>
<span><span class='st'>  CASE</span></span>
<span><span class='st'>    WHEN \"rank\"='SP' THEN genus || spec_epith</span></span>
<span><span class='st'>    WHEN \"rank\"='GN' THEN genus</span></span>
<span><span class='st'>    WHEN \"rank\"='SSP' THEN genus || spec_epith || subsp</span></span>
<span><span class='st'>    WHEN \"rank\"='VAR' THEN genus || spec_epith || var</span></span>
<span><span class='st'>    WHEN \"rank\"='FORM' THEN genus || spec_epith || form</span></span>
<span><span class='st'>  END AS name</span></span>
<span><span class='st'>FROM espeletia</span></span>
<span><span class='st'>"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span></span></code></pre>
</div>
</div>
<h3 data-number="1.3.2" id="buscar-los-nombres-en-bases-de-datos-publicas"><span class="header-section-number">1.3.2</span> Buscar los nombres en bases de datos publicas</h3>
<p>Vamos a utilizar la función <code>get_ids_</code> para buscar taxones en bases de datos internacionales publicas.
Miren la ayuda de la función utilizando: <code>?get_ids_</code>.</p>
<p>Vamos a utilizar el “backbone” de Gbif, pero pueden mirar la lista de bases de datos que taxize integra utilizando:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="at">package=</span><span class="st">&quot;taxize)</span></span></code></pre></div>
<p>Anotar: la función <code>get_ids</code> (sin el “_” final hace lo mismo de manera interactiva), pueden intentarlo!</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://docs.ropensci.org/taxize/reference/get_ids.html'>get_ids_</a></span><span class='op'>(</span><span class='st'>"Espeletia grandiflora f. multiflora"</span>,<span class='st'>"gbif"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>══  db: gbif ═════════════════</code></pre>
<pre><code>$gbif
$gbif$`Espeletia grandiflora f. multiflora`
  usagekey                               scientificname rank  status
1  4207802 Espeletia grandiflora f. multiflora Cuatrec. form SYNONYM
  matchtype acceptedusagekey                    canonicalname
1     EXACT          3105059 Espeletia grandiflora multiflora
  confidence kingdom       phylum     order     family     genus
1         98 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059    TRUE Magnoliopsida


attr(,&quot;class&quot;)
[1] &quot;ids&quot;</code></pre>
</div>
<p>Para mirar lo que pasa cuando enviamos una lista de taxones:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='op'>(</span><span class='va'>reconocido</span><span class='op'>&lt;-</span><span class='fu'><a href='https://docs.ropensci.org/taxize/reference/get_ids.html'>get_ids_</a></span><span class='op'>(</span><span class='va'>espeletia_name</span>,<span class='st'>"gbif"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>══  db: gbif ═════════════════</code></pre>
<pre><code>$gbif
$gbif$`Espeletia almorzana f. latifolia`
  usagekey                             scientificname rank  status
1  4208332 Espeletia ×almorzana f. latifolia Cuatrec. form SYNONYM
  matchtype acceptedusagekey                 canonicalname confidence
1     EXACT          3105071 Espeletia almorzana latifolia         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
              species kingdomkey phylumkey classkey orderkey
1 Espeletia almorzana          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105071    TRUE Magnoliopsida

$gbif$`Espeletia argentea f. phaneractis`
  usagekey                                         scientificname
1  4208269 Espeletia argentea f. phaneractis (S.F.Blake) Cuatrec.
2  6301135        Espeletia argentea subsp. phaneractis S.F.Blake
        rank   status matchtype                  canonicalname
1       form ACCEPTED     EXACT Espeletia argentea phaneractis
2 subspecies  SYNONYM     EXACT Espeletia argentea phaneractis
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         92 Plantae Tracheophyta Asterales Asteraceae Espeletia
             species kingdomkey phylumkey classkey orderkey familykey
1 Espeletia argentea          6   7707728      220      414      3065
2 Espeletia argentea          6   7707728      220      414      3065
  genuskey specieskey synonym         class acceptedusagekey
1  3105048    3105124   FALSE Magnoliopsida               NA
2  3105048    3105124    TRUE Magnoliopsida          4208269
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-11; status=0; score=97

$gbif$`Espeletia brassicoidea f. constricta`
  usagekey
1  4208151
2  9327675
3  4208147
4  6301138
                                                scientificname
1                Espeletia brassicoidea f. constricta Cuatrec.
2 Espeletia brassicoidea subsp. constricta (Cuatrec.) Cuatrec.
3                 Espeletia brassicoidea f. contracta Cuatrec.
4               Espeletia brassicoidea var. contracta Cuatrec.
        rank   status matchtype acceptedusagekey
1       form  SYNONYM     EXACT          9327675
2 subspecies ACCEPTED     EXACT               NA
3       form  SYNONYM     FUZZY          3105117
4    variety  SYNONYM     FUZZY          3105119
                      canonicalname confidence kingdom       phylum
1 Espeletia brassicoidea constricta         98 Plantae Tracheophyta
2 Espeletia brassicoidea constricta         92 Plantae Tracheophyta
3  Espeletia brassicoidea contracta         92 Plantae Tracheophyta
4  Espeletia brassicoidea contracta         88 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
2 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
3 Asterales Asteraceae Espeletia Espeletia conglomerata          6
4 Asterales Asteraceae Espeletia Espeletia steyermarkii          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105113    TRUE
2   7707728      220      414      3065  3105048    3105113   FALSE
3   7707728      220      414      3065  3105048    3105117    TRUE
4   7707728      220      414      3065  3105048    3105119    TRUE
          class
1 Magnoliopsida
2 Magnoliopsida
3 Magnoliopsida
4 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-11; status=1; score=98
3    Similarity: name=93; authorship=0; classification=-2; rank=6; status=0; score=97
4   Similarity: name=93; authorship=0; classification=-2; rank=-2; status=0; score=89

$gbif$`Espeletia brassicoidea f. minorifolia`
  usagekey                                 scientificname rank
1  4208144 Espeletia brassicoidea f. minorifolia Cuatrec. form
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          6301139
                       canonicalname confidence kingdom       phylum
1 Espeletia brassicoidea minorifolia         98 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105113    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia brassicoidea fo. contracta`
  usagekey
1  4208147
2  6301138
3  4208151
4  9327675
                                                scientificname
1                 Espeletia brassicoidea f. contracta Cuatrec.
2               Espeletia brassicoidea var. contracta Cuatrec.
3                Espeletia brassicoidea f. constricta Cuatrec.
4 Espeletia brassicoidea subsp. constricta (Cuatrec.) Cuatrec.
        rank   status matchtype acceptedusagekey
1       form  SYNONYM     EXACT          3105117
2    variety  SYNONYM     EXACT          3105119
3       form  SYNONYM     FUZZY          9327675
4 subspecies ACCEPTED     FUZZY               NA
                      canonicalname confidence kingdom       phylum
1  Espeletia brassicoidea contracta         98 Plantae Tracheophyta
2  Espeletia brassicoidea contracta         95 Plantae Tracheophyta
3 Espeletia brassicoidea constricta         92 Plantae Tracheophyta
4 Espeletia brassicoidea constricta         81 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia conglomerata          6
2 Asterales Asteraceae Espeletia Espeletia steyermarkii          6
3 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
4 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105117    TRUE
2   7707728      220      414      3065  3105048    3105119    TRUE
3   7707728      220      414      3065  3105048    3105113    TRUE
4   7707728      220      414      3065  3105048    3105113   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
3 Magnoliopsida
4 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-2; status=0; score=106
3    Similarity: name=93; authorship=0; classification=-2; rank=6; status=0; score=97
4  Similarity: name=93; authorship=0; classification=-2; rank=-11; status=1; score=81

$gbif$`Espeletia grandiflora f. longiligulata`
  usagekey                                  scientificname rank
1  4207817 Espeletia grandiflora f. longiligulata Cuatrec. form
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          3105059
                        canonicalname confidence kingdom       phylum
1 Espeletia grandiflora longiligulata         98 Plantae Tracheophyta
      order     family     genus               species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia grandiflora          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105059    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia grandiflora f. multiflora`
  usagekey                               scientificname rank  status
1  4207802 Espeletia grandiflora f. multiflora Cuatrec. form SYNONYM
  matchtype acceptedusagekey                    canonicalname
1     EXACT          3105059 Espeletia grandiflora multiflora
  confidence kingdom       phylum     order     family     genus
1         98 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059    TRUE Magnoliopsida

$gbif$`Espeletia grandiflora fo. longiligulata`
  usagekey                                  scientificname rank
1  4207817 Espeletia grandiflora f. longiligulata Cuatrec. form
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          3105059
                        canonicalname confidence kingdom       phylum
1 Espeletia grandiflora longiligulata         98 Plantae Tracheophyta
      order     family     genus               species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia grandiflora          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105059    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia grandiflora fo. multiflora`
  usagekey                               scientificname rank  status
1  4207802 Espeletia grandiflora f. multiflora Cuatrec. form SYNONYM
  matchtype acceptedusagekey                    canonicalname
1     EXACT          3105059 Espeletia grandiflora multiflora
  confidence kingdom       phylum     order     family     genus
1         98 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059    TRUE Magnoliopsida

$gbif$`Espeletia grandiflora fo. reducta`
  usagekey                            scientificname rank  status
1  4207799 Espeletia grandiflora f. reducta Cuatrec. form SYNONYM
  matchtype acceptedusagekey                 canonicalname confidence
1     EXACT          3105059 Espeletia grandiflora reducta         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059    TRUE Magnoliopsida

$gbif$`Espeletia grandiflora f. reducta`
  usagekey                            scientificname rank  status
1  4207799 Espeletia grandiflora f. reducta Cuatrec. form SYNONYM
  matchtype acceptedusagekey                 canonicalname confidence
1     EXACT          3105059 Espeletia grandiflora reducta         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059    TRUE Magnoliopsida

$gbif$`Espeletia incana f. prolificens`
  usagekey                           scientificname rank   status
1  8924424 Espeletia incana f. prolificens Cuatrec. form ACCEPTED
  matchtype                canonicalname confidence kingdom
1     EXACT Espeletia incana prolificens         99 Plantae
        phylum     order     family     genus          species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia incana
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105086   FALSE Magnoliopsida

$gbif$`Espeletia lopezii f. alticola`
  usagekey                         scientificname rank   status
1  4207569 Espeletia lopezii f. alticola Cuatrec. form ACCEPTED
  matchtype              canonicalname confidence kingdom
1     EXACT Espeletia lopezii alticola         99 Plantae
        phylum     order     family     genus           species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia lopezii
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105109   FALSE Magnoliopsida

$gbif$`Espeletia lopezii fo. alticola`
  usagekey                         scientificname rank   status
1  4207569 Espeletia lopezii f. alticola Cuatrec. form ACCEPTED
  matchtype              canonicalname confidence kingdom
1     EXACT Espeletia lopezii alticola         99 Plantae
        phylum     order     family     genus           species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia lopezii
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105109   FALSE Magnoliopsida

$gbif$`Espeletia pachoana f. brevifolia`
  usagekey                             scientificname rank  status
1  4207409 Espeletia ×pachoana f. brevifolia Cuatrec. form SYNONYM
  matchtype acceptedusagekey                 canonicalname confidence
1     EXACT          3105084 Espeletia pachoana brevifolia         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
             species kingdomkey phylumkey classkey orderkey familykey
1 Espeletia pachoana          6   7707728      220      414      3065
  genuskey specieskey synonym         class
1  3105048    3105084    TRUE Magnoliopsida

$gbif$`Espeletia petiolata fo. corymbosa`
  usagekey                            scientificname rank   status
1  4207373 Espeletia petiolata f. corymbosa Cuatrec. form ACCEPTED
  matchtype                 canonicalname confidence kingdom
1     EXACT Espeletia petiolata corymbosa         99 Plantae
        phylum     order     family     genus             species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia petiolata
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3139319   FALSE Magnoliopsida

$gbif$`Espeletia petiolata fo. reducta`
  usagekey                          scientificname rank  status
1  4207354 Espeletia petiolata f. reducta Cuatrec. form SYNONYM
  matchtype acceptedusagekey               canonicalname confidence
1     EXACT          3139319 Espeletia petiolata reducta         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
              species kingdomkey phylumkey classkey orderkey
1 Espeletia petiolata          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3139319    TRUE Magnoliopsida

$gbif$`Espeletia pycnophylla f. cochensis`
  usagekey                 scientificname    rank   status  matchtype
1  3105054 Espeletia pycnophylla Cuatrec. species ACCEPTED HIGHERRANK
          canonicalname confidence kingdom       phylum     order
1 Espeletia pycnophylla         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia pycnophylla          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105054   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia tunjana f. magnificens`
  usagekey             scientificname    rank   status  matchtype
1  3105064 Espeletia tunjana Cuatrec. species ACCEPTED HIGHERRANK
      canonicalname confidence kingdom       phylum     order
1 Espeletia tunjana         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia tunjana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105064   FALSE
          class
1 Magnoliopsida

$gbif$Espeletia
  usagekey                    scientificname  rank   status matchtype
1  3105048 Espeletia Mutis ex Humb. &amp; Bonpl. genus ACCEPTED     EXACT
2  7943829             Espeletia Nutt., 1834 genus  SYNONYM     EXACT
3  9805922             Espletia Steud., 1821 genus DOUBTFUL     FUZZY
  canonicalname confidence kingdom       phylum     order     family
1     Espeletia         92 Plantae Tracheophyta Asterales Asteraceae
2     Espeletia         92 Plantae Tracheophyta Asterales Asteraceae
3      Espletia         68 Plantae Tracheophyta Asterales Asteraceae
      genus kingdomkey phylumkey classkey orderkey familykey genuskey
1 Espeletia          6   7707728      220      414      3065  3105048
2   Wyethia          6   7707728      220      414      3065  3091452
3  Espletia          6   7707728      220      414      3065  9805922
  synonym         class acceptedusagekey
1   FALSE Magnoliopsida               NA
2    TRUE Magnoliopsida          3091452
3   FALSE Magnoliopsida               NA
                                                                               note
1                                                                              &lt;NA&gt;
2 Similarity: name=100; authorship=0; classification=-2; rank=0; status=0; score=98
3 Similarity: name=75; authorship=0; classification=-2; rank=0; status=-5; score=68

$gbif$`Espeletia almorzana`
  usagekey                scientificname    rank   status matchtype
1  3105071 Espeletia ×almorzana Cuatrec. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia almorzana         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia almorzana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105071   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia alternifolia`
  usagekey                  scientificname    rank  status matchtype
1  3105050 Espeletia alternifolia Cuatrec. species SYNONYM     EXACT
  acceptedusagekey          canonicalname confidence kingdom
1          9422592 Espeletia alternifolia         98 Plantae
        phylum     order     family     genus                species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia schultesiana
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105107    TRUE Magnoliopsida

$gbif$`Espeletia annemariana`
  usagekey                 scientificname    rank   status matchtype
1  3105075 Espeletia annemariana Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia annemariana         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia annemariana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105075   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia arbelaezii`
  usagekey                scientificname    rank   status matchtype
1  3105120 Espeletia arbelaezii Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia arbelaezii         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia arbelaezii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105120   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia argentea`
  usagekey                    scientificname    rank   status
1  3105124 Espeletia argentea Humb. &amp; Bonpl. species ACCEPTED
2 11290828          Espeletia argentea Kunth species DOUBTFUL
  matchtype      canonicalname confidence kingdom       phylum
1     EXACT Espeletia argentea         98 Plantae Tracheophyta
2     EXACT Espeletia argentea         96 Plantae Tracheophyta
      order     family     genus            species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia argentea          6
2 Asterales Asteraceae Espeletia Espeletia argentea          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105124   FALSE
2   7707728      220      414      3065  3105048   11290828   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=6; status=-5; score=109

$gbif$`Espeletia ariana`
  usagekey                         scientificname    rank   status
1  4208267 Espeletia ariana Rodr.-Cabeza &amp; S.Díaz species ACCEPTED
2  3139309             Espeletia trianae Cuatrec. species ACCEPTED
3  3109159       Espeletia marcana Cuatrec., 1970 species  SYNONYM
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT  Espeletia ariana         99 Plantae Tracheophyta
2     FUZZY Espeletia trianae         10 Plantae Tracheophyta
3     FUZZY Espeletia marcana          9 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia       Espeletia ariana          6
2 Asterales Asteraceae Espeletia      Espeletia trianae          6
3 Asterales Asteraceae Espeletia Espeletia thyrsiformis          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    4208267   FALSE
2   7707728      220      414      3065  3105048    3139309   FALSE
3   7707728      220      414      3065  3105048    3109160    TRUE
          class
1 Magnoliopsida
2 Magnoliopsida
3 Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10
3  Similarity: name=5; authorship=0; classification=-2; rank=6; status=0; score=9
  acceptedusagekey
1               NA
2               NA
3          3109160

$gbif$`Espeletia azucarina`
  usagekey               scientificname    rank   status matchtype
1  3105053 Espeletia azucarina Cuatrec. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia azucarina         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia azucarina          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105053   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia barclayana`
  usagekey                scientificname    rank   status matchtype
1  3105057 Espeletia barclayana Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia barclayana         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia barclayana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105057   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia bogotensis`
  usagekey                 scientificname    rank   status matchtype
1  3139305 Espeletia ×bogotensis Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia bogotensis         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia bogotensis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139305   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia boyacensis`
  usagekey                scientificname    rank   status matchtype
1  3105089 Espeletia boyacensis Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia boyacensis         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia boyacensis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105089   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia brachyaxiantha`
  usagekey                  scientificname    rank   status matchtype
1  3105078 Espeletia brachyaxiantha S.Díaz species ACCEPTED     EXACT
             canonicalname confidence kingdom       phylum     order
1 Espeletia brachyaxiantha         99 Plantae Tracheophyta Asterales
      family     genus                  species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia brachyaxiantha          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105078   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia brassicoidea`
  usagekey                  scientificname    rank   status matchtype
1  3105113 Espeletia brassicoidea Cuatrec. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia brassicoidea         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia brassicoidea          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105113   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia cabrerensis`
  usagekey                 scientificname    rank   status matchtype
1  3105049 Espeletia cabrerensis Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia cabrerensis         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia cabrerensis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105049   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia cachaluensis`
  usagekey                               scientificname    rank
1  7867857 Espeletia cachaluensis Rodr.-Cabeza &amp; S.Díaz species
    status matchtype          canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia cachaluensis         99 Plantae
        phylum     order     family     genus                species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia cachaluensis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    7867857   FALSE Magnoliopsida

$gbif$`Espeletia caldasii`
  usagekey              scientificname    rank   status matchtype
1  3139338 Espeletia caldasii Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia caldasii         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia caldasii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139338   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia canescens`
  usagekey              scientificname    rank   status matchtype
1  3105108 Espeletia canescens A.C.Sm. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia canescens         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia canescens          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105108   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia cardonae`
  usagekey              scientificname    rank   status matchtype
1  3122358 Espeletia cardonae Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia cardonae         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia cardonae          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3122358   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia cayetana`
  usagekey                         scientificname    rank   status
1  3105083 Espeletia cayetana (Cuatrec.) Cuatrec. species ACCEPTED
  matchtype      canonicalname confidence kingdom       phylum
1     EXACT Espeletia cayetana         99 Plantae Tracheophyta
      order     family     genus            species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia cayetana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105083   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia centroandina`
  usagekey                  scientificname    rank  status matchtype
1  3105063 Espeletia centroandina Cuatrec. species SYNONYM     EXACT
  acceptedusagekey          canonicalname confidence kingdom
1          4207706 Espeletia centroandina         98 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia hartwegiana
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    8286763    TRUE Magnoliopsida

$gbif$`Espeletia chardonii`
  usagekey              scientificname    rank   status matchtype
1  3099173 Espeletia chardonii A.C.Sm. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia chardonii         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia chardonii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3099173   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia chocontana`
  usagekey                scientificname    rank   status matchtype
1  3105052 Espeletia chocontana Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia chocontana         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia chocontana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105052   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia chontalensis`
  usagekey                               scientificname    rank
1  8180955 Espeletia chontalensis Rodr.-Cabeza &amp; S.Díaz species
    status matchtype          canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia chontalensis         99 Plantae
        phylum     order     family     genus                species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia chontalensis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    8180955   FALSE Magnoliopsida

$gbif$`Espeletia cleefii`
  usagekey             scientificname    rank   status matchtype
1  3105061 Espeletia cleefii Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia cleefii         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia cleefii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105061   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia cochensis`
  usagekey               scientificname    rank  status matchtype
1  3105066 Espeletia cochensis Cuatrec. species SYNONYM     EXACT
  acceptedusagekey       canonicalname confidence kingdom
1          7223347 Espeletia cochensis         98 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia pycnophylla
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105054    TRUE Magnoliopsida

$gbif$`Espeletia colombiana`
  usagekey                scientificname    rank   status matchtype
1  3139303 Espeletia colombiana Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia colombiana         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia colombiana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139303   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia congestiflora`
  usagekey                   scientificname    rank   status
1  3105110 Espeletia congestiflora Cuatrec. species ACCEPTED
  matchtype           canonicalname confidence kingdom       phylum
1     EXACT Espeletia congestiflora         99 Plantae Tracheophyta
      order     family     genus                 species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia congestiflora          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105110   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia conglomerata`
  usagekey                 scientificname    rank   status matchtype
1  3105117 Espeletia conglomerata A.C.Sm. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia conglomerata         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia conglomerata          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105117   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia corymbosa`
  usagekey                        scientificname    rank   status
1  3105098            Espeletia corymbosa Bonpl. species ACCEPTED
2 11251768             Espeletia corymbosa Kunth species  SYNONYM
3  8637562          Espeletia corymbosa Sch.Bip. species  SYNONYM
4  8380121 Espeletia corymbosa Sch.Bip. ex Wedd. species  SYNONYM
  matchtype       canonicalname confidence kingdom       phylum
1     EXACT Espeletia corymbosa         97 Plantae Tracheophyta
2     EXACT Espeletia corymbosa         97 Plantae Tracheophyta
3     EXACT Espeletia corymbosa         97 Plantae Tracheophyta
4     EXACT Espeletia corymbosa         97 Plantae Tracheophyta
      order     family     genus             species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia corymbosa          6
2 Asterales Asteraceae Espeletia Espeletia corymbosa          6
3 Asterales Asteraceae Espeletia Espeletia schultzii          6
4 Asterales Asteraceae Espeletia Espeletia schultzii          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105098   FALSE
2   7707728      220      414      3065  3105048    3105098    TRUE
3   7707728      220      414      3065  3105048    3105097    TRUE
4   7707728      220      414      3065  3105048    3105097    TRUE
          class acceptedusagekey
1 Magnoliopsida               NA
2 Magnoliopsida          3105098
3 Magnoliopsida          3105097
4 Magnoliopsida          3105097
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114
3 Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114
4 Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114

$gbif$`Espeletia curialensis`
  usagekey                 scientificname    rank   status matchtype
1  3105073 Espeletia curialensis Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia curialensis         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia curialensis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105073   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia discoidea`
  usagekey               scientificname    rank   status matchtype
1  3105068 Espeletia discoidea Cuatrec. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia discoidea         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia discoidea          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105068   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia dugandii`
  usagekey              scientificname    rank   status matchtype
1  3105115 Espeletia dugandii Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia dugandii         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia dugandii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105115   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia episcopalis`
  usagekey                              scientificname    rank
1  4207948 Espeletia episcopalis Rodr.-Cabeza &amp; S.Díaz species
    status matchtype         canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia episcopalis         99 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia episcopalis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    4207948   FALSE Magnoliopsida

$gbif$`Espeletia estanislana`
  usagekey                 scientificname    rank   status matchtype
1  3105114 Espeletia estanislana Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia estanislana         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia estanislana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105114   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia formosa`
  usagekey                          scientificname    rank   status
1  4207924 Espeletia formosa S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT Espeletia formosa         99 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia formosa          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    4207924   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia frontinoensis`
  usagekey                   scientificname    rank   status
1  3105058 Espeletia frontinoensis Cuatrec. species ACCEPTED
  matchtype           canonicalname confidence kingdom       phylum
1     EXACT Espeletia frontinoensis         99 Plantae Tracheophyta
      order     family     genus                 species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia frontinoensis          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105058   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia funckii`
  usagekey                      scientificname    rank   status
1  4207897 Espeletia funckii Sch.Bip. ex Wedd. species ACCEPTED
2  8592320          Espeletia funckii Sch.Bip. species  SYNONYM
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT Espeletia funckii         97 Plantae Tracheophyta
2     EXACT Espeletia funckii         97 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia funckii          6
2 Asterales Asteraceae Espeletia Espeletia funckii          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    4207897   FALSE
2   7707728      220      414      3065  3105048    4207897    TRUE
          class acceptedusagekey
1 Magnoliopsida               NA
2 Magnoliopsida          4207897
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114

$gbif$`Espeletia garciae`
  usagekey             scientificname    rank   status matchtype
1  3139307 Espeletia garciae Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia garciae         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia garciae          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139307   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia garcibarrigae`
  usagekey                    scientificname    rank   status
1  3105096 Espeletia ×garcibarrigae Cuatrec. species ACCEPTED
  matchtype           canonicalname confidence kingdom       phylum
1     EXACT Espeletia garcibarrigae         99 Plantae Tracheophyta
      order     family     genus                 species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia garcibarrigae          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105096   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia glandulosa`
  usagekey                scientificname    rank   status matchtype
1  3101678 Espeletia glandulosa Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia glandulosa         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia glandulosa          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3101678   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia glossophylla`
  usagekey                scientificname    rank  status matchtype
1  3091968 Espeletia glossophylla Mattf. species SYNONYM     EXACT
  acceptedusagekey          canonicalname confidence kingdom
1         10877175 Espeletia glossophylla         98 Plantae
        phylum     order     family     genus           species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia occulta
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3091969    TRUE Magnoliopsida

$gbif$`Espeletia grandiflora`
  usagekey                       scientificname    rank   status
1  3105059 Espeletia grandiflora Humb. &amp; Bonpl. species ACCEPTED
2  8759311          Espeletia grandiflora Kunth species DOUBTFUL
  matchtype         canonicalname confidence kingdom       phylum
1     EXACT Espeletia grandiflora         98 Plantae Tracheophyta
2     EXACT Espeletia grandiflora         96 Plantae Tracheophyta
      order     family     genus               species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia grandiflora          6
2 Asterales Asteraceae Espeletia Espeletia grandiflora          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105059   FALSE
2   7707728      220      414      3065  3105048    8759311   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=6; status=-5; score=109

$gbif$`Espeletia guacharaca`
  usagekey              scientificname    rank   status matchtype
1  4207763 Espeletia guacharaca S.Díaz species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia guacharaca         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia guacharaca          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    4207763   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia guascensis`
  usagekey                 scientificname    rank   status matchtype
1  3105102 Espeletia ×guascensis Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia guascensis         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia guascensis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105102   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia hartwegiana`
  usagekey                             scientificname    rank
1  8286763   Espeletia hartwegiana Cuatrec. ex Herzog species
2  7551909 Espeletia hartwegiana Sch.Bip. ex Cuatrec. species
3  3105106    Espeletia hartwegiana Sch.Bip. ex Wedd. species
4  7908841             Espeletia hartwegiana Sch.Bip. species
    status matchtype         canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia hartwegiana         97 Plantae
2  SYNONYM     EXACT Espeletia hartwegiana         97 Plantae
3  SYNONYM     EXACT Espeletia hartwegiana         97 Plantae
4 DOUBTFUL     EXACT Espeletia hartwegiana         96 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia hartwegiana
2 Tracheophyta Asterales Asteraceae Espeletia Espeletia hartwegiana
3 Tracheophyta Asterales Asteraceae Espeletia Espeletia grandiflora
4 Tracheophyta Asterales Asteraceae Espeletia Espeletia hartwegiana
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
2          6   7707728      220      414      3065  3105048
3          6   7707728      220      414      3065  3105048
4          6   7707728      220      414      3065  3105048
  specieskey synonym         class acceptedusagekey
1    8286763   FALSE Magnoliopsida               NA
2    8286763    TRUE Magnoliopsida          6301141
3    3105059    TRUE Magnoliopsida          3105059
4    7908841   FALSE Magnoliopsida               NA
                                                                                 note
1                                                                                &lt;NA&gt;
2  Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114
3  Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114
4 Similarity: name=110; authorship=0; classification=-2; rank=6; status=-5; score=109

$gbif$`Espeletia haughtii`
  usagekey                    scientificname  rank   status
1  3105048 Espeletia Mutis ex Humb. &amp; Bonpl. genus ACCEPTED
   matchtype canonicalname confidence kingdom       phylum     order
1 HIGHERRANK     Espeletia         92 Plantae Tracheophyta Asterales
      family     genus kingdomkey phylumkey classkey orderkey
1 Asteraceae Espeletia          6   7707728      220      414
  familykey genuskey synonym         class
1      3065  3105048   FALSE Magnoliopsida

$gbif$`Espeletia idroboi`
  usagekey             scientificname    rank   status matchtype
1  3105062 Espeletia idroboi Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia idroboi         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia idroboi          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105062   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia incana`
  usagekey            scientificname    rank   status matchtype
1  3105086 Espeletia incana Cuatrec. species ACCEPTED     EXACT
2  3105081   Espeletia nana Cuatrec. species ACCEPTED     FUZZY
     canonicalname confidence kingdom       phylum     order
1 Espeletia incana         99 Plantae Tracheophyta Asterales
2   Espeletia nana         10 Plantae Tracheophyta Asterales
      family     genus          species kingdomkey phylumkey classkey
1 Asteraceae Espeletia Espeletia incana          6   7707728      220
2 Asteraceae Espeletia   Espeletia nana          6   7707728      220
  orderkey familykey genuskey specieskey synonym         class
1      414      3065  3105048    3105086   FALSE Magnoliopsida
2      414      3065  3105048    3105081   FALSE Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia insignis`
  usagekey              scientificname    rank   status matchtype
1  3139335 Espeletia insignis Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia insignis         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia insignis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139335   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia jaramilloi`
  usagekey              scientificname    rank   status matchtype
1  3105118 Espeletia jaramilloi S.Díaz species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia jaramilloi         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia jaramilloi          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105118   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia jimenez-quesadae`
  usagekey                      scientificname    rank   status
1  3139340 Espeletia jimenez-quesadae Cuatrec. species ACCEPTED
  matchtype              canonicalname confidence kingdom
1     EXACT Espeletia jimenez-quesadae         99 Plantae
        phylum     order     family     genus
1 Tracheophyta Asterales Asteraceae Espeletia
                     species kingdomkey phylumkey classkey orderkey
1 Espeletia jimenez-quesadae          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3139340   FALSE Magnoliopsida

$gbif$`Espeletia killipii`
  usagekey              scientificname    rank   status matchtype
1  3105069 Espeletia killipii Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia killipii         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia killipii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105069   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia leporina`
  usagekey              scientificname    rank  status matchtype
1  3105090 Espeletia leporina Cuatrec. species SYNONYM     EXACT
  acceptedusagekey      canonicalname confidence kingdom       phylum
1          3099173 Espeletia leporina         98 Plantae Tracheophyta
      order     family     genus             species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia chardonii          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3099173    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia lopezii`
  usagekey             scientificname    rank   status matchtype
1  3105109 Espeletia lopezii Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia lopezii         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia lopezii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105109   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia marnixiana`
  usagekey                        scientificname    rank   status
1  3105072 Espeletia marnixiana S.Díaz &amp; Pedraza species ACCEPTED
  matchtype        canonicalname confidence kingdom       phylum
1     EXACT Espeletia marnixiana         99 Plantae Tracheophyta
      order     family     genus              species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia marnixiana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105072   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia mirabilis`
  usagekey                            scientificname    rank   status
1  8992864 Espeletia mirabilis S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
2  4207473 Espeletia mutabilis S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
  matchtype       canonicalname confidence kingdom       phylum
1     EXACT Espeletia mirabilis         99 Plantae Tracheophyta
2     FUZZY Espeletia mutabilis         10 Plantae Tracheophyta
      order     family     genus             species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia mirabilis          6
2 Asterales Asteraceae Espeletia Espeletia mutabilis          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    8992864   FALSE
2   7707728      220      414      3065  3105048    4207473   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia miradorensis`
  usagekey                             scientificname    rank
1  3105105 Espeletia miradorensis (Cuatrec.) Cuatrec. species
    status matchtype          canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia miradorensis         99 Plantae
        phylum     order     family     genus                species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia miradorensis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105105   FALSE Magnoliopsida

$gbif$`Espeletia muiska`
  usagekey            scientificname    rank   status matchtype
1  3139317 Espeletia muiska Cuatrec. species ACCEPTED     EXACT
     canonicalname confidence kingdom       phylum     order
1 Espeletia muiska         99 Plantae Tracheophyta Asterales
      family     genus          species kingdomkey phylumkey classkey
1 Asteraceae Espeletia Espeletia muiska          6   7707728      220
  orderkey familykey genuskey specieskey synonym         class
1      414      3065  3105048    3139317   FALSE Magnoliopsida

$gbif$`Espeletia murilloi`
  usagekey              scientificname    rank   status matchtype
1  3105074 Espeletia murilloi Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia murilloi         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia murilloi          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105074   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia mutabilis`
  usagekey                            scientificname    rank   status
1  4207473 Espeletia mutabilis S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
2  8992864 Espeletia mirabilis S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
  matchtype       canonicalname confidence kingdom       phylum
1     EXACT Espeletia mutabilis         99 Plantae Tracheophyta
2     FUZZY Espeletia mirabilis         10 Plantae Tracheophyta
      order     family     genus             species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia mutabilis          6
2 Asterales Asteraceae Espeletia Espeletia mirabilis          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    4207473   FALSE
2   7707728      220      414      3065  3105048    8992864   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia nemekenei`
  usagekey               scientificname    rank   status matchtype
1  3105093 Espeletia nemekenei Cuatrec. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia nemekenei         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia nemekenei          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105093   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia neriifolia`
  usagekey                                          scientificname
1  3091958 Espeletia neriifolia (Bonpl. ex Humb.) Sch.Bip ex Wedd.
2  8403010                           Espeletia neriifolia Sch.Bip.
     rank   status matchtype        canonicalname confidence kingdom
1 species ACCEPTED     EXACT Espeletia neriifolia         97 Plantae
2 species  SYNONYM     EXACT Espeletia neriifolia         97 Plantae
        phylum     order     family     genus              species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia neriifolia
2 Tracheophyta Asterales Asteraceae Espeletia Espeletia neriifolia
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
2          6   7707728      220      414      3065  3105048
  specieskey synonym         class acceptedusagekey
1    3091958   FALSE Magnoliopsida               NA
2    3091958    TRUE Magnoliopsida          3091958
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114

$gbif$`Espeletia occidentalis`
  usagekey                 scientificname    rank   status matchtype
1  3105051 Espeletia occidentalis A.C.Sm. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia occidentalis         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia occidentalis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105051   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia oswaldiana`
  usagekey              scientificname    rank   status matchtype
1  3105112 Espeletia oswaldiana S.Díaz species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia oswaldiana         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia oswaldiana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105112   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia pachoana`
  usagekey               scientificname    rank   status matchtype
1  3105084 Espeletia ×pachoana Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia pachoana         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia pachoana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105084   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia paipana`
  usagekey                     scientificname    rank   status
1  3105080 Espeletia paipana S.Díaz &amp; Pedraza species ACCEPTED
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT Espeletia paipana         99 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia paipana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105080   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia perijaensis`
  usagekey                 scientificname    rank   status matchtype
1  3105116 Espeletia perijaensis Cuatrec. species ACCEPTED     EXACT
2  3139345 Espeletia ×meridensis Cuatrec. species ACCEPTED     FUZZY
          canonicalname confidence kingdom       phylum     order
1 Espeletia perijaensis         99 Plantae Tracheophyta Asterales
2  Espeletia meridensis         10 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia perijaensis          6   7707728
2 Asteraceae Espeletia  Espeletia meridensis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105116   FALSE
2      220      414      3065  3105048    3139345   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia pescana`
  usagekey                          scientificname    rank   status
1  8312358       Espeletia pescana (S.Díaz) S.Díaz species ACCEPTED
2  3105079     Espeletia pescana (S.Díaz) Cuatrec. species  SYNONYM
3  4207330 Espeletia pisbana S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT Espeletia pescana         97 Plantae Tracheophyta
2     EXACT Espeletia pescana         97 Plantae Tracheophyta
3     FUZZY Espeletia pisbana         10 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia pescana          6
2 Asterales Asteraceae Espeletia Espeletia pescana          6
3 Asterales Asteraceae Espeletia Espeletia pisbana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    8312358   FALSE
2   7707728      220      414      3065  3105048    8312358    TRUE
3   7707728      220      414      3065  3105048    4207330   FALSE
          class acceptedusagekey
1 Magnoliopsida               NA
2 Magnoliopsida          8312358
3 Magnoliopsida               NA
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=6; status=0; score=114
3    Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia petiolata`
  usagekey               scientificname    rank   status matchtype
1  3139319 Espeletia petiolata Cuatrec. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia petiolata         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia petiolata          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139319   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia phaneractis`
  usagekey                scientificname    rank  status matchtype
1  6063393 Espeletia phaneractis A.C.Sm. species SYNONYM     EXACT
  acceptedusagekey         canonicalname confidence kingdom
1          4208269 Espeletia phaneractis         98 Plantae
        phylum     order     family     genus            species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia argentea
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105124    TRUE Magnoliopsida

$gbif$`Espeletia pisbana`
  usagekey                          scientificname    rank   status
1  4207330 Espeletia pisbana S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
2  8312358       Espeletia pescana (S.Díaz) S.Díaz species ACCEPTED
3  3105079     Espeletia pescana (S.Díaz) Cuatrec. species  SYNONYM
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT Espeletia pisbana         99 Plantae Tracheophyta
2     FUZZY Espeletia pescana         10 Plantae Tracheophyta
3     FUZZY Espeletia pescana          9 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia pisbana          6
2 Asterales Asteraceae Espeletia Espeletia pescana          6
3 Asterales Asteraceae Espeletia Espeletia pescana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    4207330   FALSE
2   7707728      220      414      3065  3105048    8312358   FALSE
3   7707728      220      414      3065  3105048    8312358    TRUE
          class
1 Magnoliopsida
2 Magnoliopsida
3 Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10
3  Similarity: name=5; authorship=0; classification=-2; rank=6; status=0; score=9
  acceptedusagekey
1               NA
2               NA
3          8312358

$gbif$`Espeletia pleiochasia`
  usagekey                 scientificname    rank   status matchtype
1  3139333 Espeletia pleiochasia Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia pleiochasia         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia pleiochasia          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139333   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia praefrontina`
  usagekey                  scientificname    rank   status matchtype
1  3105103 Espeletia praefrontina Cuatrec. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia praefrontina         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia praefrontina          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105103   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia praesidentis`
  usagekey                               scientificname    rank
1  9312298 Espeletia praesidentis Diazgr. &amp; L.R.Sánchez species
    status matchtype          canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia praesidentis         99 Plantae
        phylum     order     family     genus                species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia praesidentis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    9312298   FALSE Magnoliopsida

$gbif$`Espeletia pulcherrima`
  usagekey                              scientificname    rank
1  4207277 Espeletia pulcherrima Rodr.-Cabeza &amp; S.Díaz species
    status matchtype         canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia pulcherrima         99 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia pulcherrima
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    4207277   FALSE Magnoliopsida

$gbif$`Espeletia purpurascens`
  usagekey                  scientificname    rank   status matchtype
1  3139312 Espeletia purpurascens Cuatrec. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia purpurascens         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia purpurascens          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139312   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia pycnophylla`
  usagekey                 scientificname    rank   status matchtype
1  3105054 Espeletia pycnophylla Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia pycnophylla         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia pycnophylla          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105054   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia raquirensis`
  usagekey                              scientificname    rank
1  9040599 Espeletia raquirensis Rodr.-Cabeza &amp; S.Díaz species
    status matchtype         canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia raquirensis         99 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia raquirensis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    9040599   FALSE Magnoliopsida

$gbif$`Espeletia roberti`
  usagekey             scientificname    rank   status matchtype
1  3105076 Espeletia roberti Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia roberti         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia roberti          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105076   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia robertii`
  usagekey             scientificname    rank   status matchtype
1  3105076 Espeletia roberti Cuatrec. species ACCEPTED     FUZZY
      canonicalname confidence kingdom       phylum     order
1 Espeletia roberti         96 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia roberti          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105076   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia rositae`
  usagekey             scientificname    rank   status matchtype
1  3105070 Espeletia rositae Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia rositae         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia rositae          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105070   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia santanderensis`
  usagekey                   scientificname    rank   status
1  3139328 Espeletia santanderensis A.C.Sm. species ACCEPTED
  matchtype            canonicalname confidence kingdom       phylum
1     EXACT Espeletia santanderensis         99 Plantae Tracheophyta
      order     family     genus                  species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia santanderensis          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3139328   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia schultesiana`
  usagekey                  scientificname    rank   status matchtype
1  3105107 Espeletia schultesiana Cuatrec. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia schultesiana         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia schultesiana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105107   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia schultzii`
  usagekey            scientificname    rank   status matchtype
1  3105097 Espeletia schultzii Wedd. species ACCEPTED     EXACT
        canonicalname confidence kingdom       phylum     order
1 Espeletia schultzii         99 Plantae Tracheophyta Asterales
      family     genus             species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia schultzii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105097   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia sclerophylla`
  usagekey                  scientificname    rank   status matchtype
1  3139315 Espeletia sclerophylla Cuatrec. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia sclerophylla         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia sclerophylla          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3139315   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia smithiana`
  usagekey               scientificname    rank  status matchtype
1  3105060 Espeletia smithiana Cuatrec. species SYNONYM     EXACT
  acceptedusagekey       canonicalname confidence kingdom
1          4207897 Espeletia smithiana         98 Plantae
        phylum     order     family     genus           species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia funckii
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    4207897    TRUE Magnoliopsida

$gbif$`Espeletia soroca`
  usagekey                         scientificname    rank   status
1  4207065 Espeletia soroca S.Díaz &amp; Rodr.-Cabeza species ACCEPTED
  matchtype    canonicalname confidence kingdom       phylum
1     EXACT Espeletia soroca         99 Plantae Tracheophyta
      order     family     genus          species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia soroca          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    4207065   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia standleyana`
  usagekey                scientificname    rank   status matchtype
1  3105099 Espeletia standleyana A.C.Sm. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia standleyana         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia standleyana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105099   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia steyermarkii`
  usagekey                  scientificname    rank   status matchtype
1  3105119 Espeletia steyermarkii Cuatrec. species ACCEPTED     EXACT
           canonicalname confidence kingdom       phylum     order
1 Espeletia steyermarkii         99 Plantae Tracheophyta Asterales
      family     genus                species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia steyermarkii          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105119   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia subneriifolia`
  usagekey                   scientificname    rank  status matchtype
1  4207021 Espeletia subneriifolia Cuatrec. species SYNONYM     EXACT
  acceptedusagekey           canonicalname confidence kingdom
1         10877175 Espeletia subneriifolia         98 Plantae
        phylum     order     family     genus           species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia occulta
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3091969    TRUE Magnoliopsida

$gbif$`Espeletia summapacis`
  usagekey                scientificname    rank   status matchtype
1  3105077 Espeletia summapacis Cuatrec. species ACCEPTED     EXACT
         canonicalname confidence kingdom       phylum     order
1 Espeletia summapacis         99 Plantae Tracheophyta Asterales
      family     genus              species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia summapacis          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105077   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia tamana`
  usagekey            scientificname    rank   status matchtype
1  3091948 Espeletia tamana Cuatrec. species ACCEPTED     EXACT
     canonicalname confidence kingdom       phylum     order
1 Espeletia tamana         99 Plantae Tracheophyta Asterales
      family     genus          species kingdomkey phylumkey classkey
1 Asteraceae Espeletia Espeletia tamana          6   7707728      220
  orderkey familykey genuskey specieskey synonym         class
1      414      3065  3105048    3091948   FALSE Magnoliopsida

$gbif$`Espeletia tapirophila`
  usagekey                 scientificname    rank   status matchtype
1  3105067 Espeletia tapirophila Cuatrec. species ACCEPTED     EXACT
          canonicalname confidence kingdom       phylum     order
1 Espeletia tapirophila         99 Plantae Tracheophyta Asterales
      family     genus               species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia tapirophila          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105067   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia tibamoensis`
  usagekey                              scientificname    rank
1  8853458 Espeletia tibamoensis Rodr.-Cabeza &amp; S.Díaz species
    status matchtype         canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia tibamoensis         99 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia tibamoensis
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    8853458   FALSE Magnoliopsida

$gbif$`Espeletia trianae`
  usagekey                         scientificname    rank   status
1  3139309             Espeletia trianae Cuatrec. species ACCEPTED
2  4208267 Espeletia ariana Rodr.-Cabeza &amp; S.Díaz species ACCEPTED
  matchtype     canonicalname confidence kingdom       phylum
1     EXACT Espeletia trianae         99 Plantae Tracheophyta
2     FUZZY  Espeletia ariana         10 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia trianae          6
2 Asterales Asteraceae Espeletia  Espeletia ariana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3139309   FALSE
2   7707728      220      414      3065  3105048    4208267   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia tunjana`
  usagekey             scientificname    rank   status matchtype
1  3105064 Espeletia tunjana Cuatrec. species ACCEPTED     EXACT
      canonicalname confidence kingdom       phylum     order
1 Espeletia tunjana         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia tunjana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105064   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia uribei`
  usagekey            scientificname    rank   status matchtype
1  3105056 Espeletia uribei Cuatrec. species ACCEPTED     EXACT
2  3122364 Espeletia ruizii Cuatrec. species ACCEPTED     FUZZY
     canonicalname confidence kingdom       phylum     order
1 Espeletia uribei         99 Plantae Tracheophyta Asterales
2 Espeletia ruizii         10 Plantae Tracheophyta Asterales
      family     genus          species kingdomkey phylumkey classkey
1 Asteraceae Espeletia Espeletia uribei          6   7707728      220
2 Asteraceae Espeletia Espeletia ruizii          6   7707728      220
  orderkey familykey genuskey specieskey synonym         class
1      414      3065  3105048    3105056   FALSE Magnoliopsida
2      414      3065  3105048    3122364   FALSE Magnoliopsida
                                                                             note
1                                                                            &lt;NA&gt;
2 Similarity: name=5; authorship=0; classification=-2; rank=6; status=1; score=10

$gbif$`Espeletia verdeana`
  usagekey               scientificname    rank   status matchtype
1  3105122 Espeletia ×verdeana Cuatrec. species ACCEPTED     EXACT
       canonicalname confidence kingdom       phylum     order
1 Espeletia verdeana         99 Plantae Tracheophyta Asterales
      family     genus            species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia verdeana          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105122   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia weddellii`
  usagekey                       scientificname    rank   status
1  7704619         Espeletia weddellii Sch.Bip. species  SYNONYM
2  3105087 Espeletia weddelii Sch.Bip. ex Wedd. species ACCEPTED
  matchtype acceptedusagekey       canonicalname confidence kingdom
1     EXACT          3105087 Espeletia weddellii         98 Plantae
2     FUZZY               NA  Espeletia weddelii         95 Plantae
        phylum     order     family     genus            species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia weddelii
2 Tracheophyta Asterales Asteraceae Espeletia Espeletia weddelii
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
2          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105087    TRUE Magnoliopsida
2    3105087   FALSE Magnoliopsida
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=100; authorship=0; classification=-2; rank=6; status=1; score=105

$gbif$`Espeletia argentea subsp. phaneractis`
  usagekey                                         scientificname
1  6301135        Espeletia argentea subsp. phaneractis S.F.Blake
2  4208269 Espeletia argentea f. phaneractis (S.F.Blake) Cuatrec.
        rank   status matchtype acceptedusagekey
1 subspecies  SYNONYM     EXACT          4208269
2       form ACCEPTED     EXACT               NA
                   canonicalname confidence kingdom       phylum
1 Espeletia argentea phaneractis         98 Plantae Tracheophyta
2 Espeletia argentea phaneractis         92 Plantae Tracheophyta
      order     family     genus            species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia argentea          6
2 Asterales Asteraceae Espeletia Espeletia argentea          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105124    TRUE
2   7707728      220      414      3065  3105048    3105124   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-11; status=1; score=98

$gbif$`Espeletia brachyaxiantha subsp. brachyaxiantha`
  usagekey                                 scientificname       rank
1  6301151 Espeletia brachyaxiantha subsp. brachyaxiantha subspecies
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          3105078
                            canonicalname confidence kingdom
1 Espeletia brachyaxiantha brachyaxiantha         98 Plantae
        phylum     order     family     genus
1 Tracheophyta Asterales Asteraceae Espeletia
                   species kingdomkey phylumkey classkey orderkey
1 Espeletia brachyaxiantha          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105078    TRUE Magnoliopsida

$gbif$`Espeletia brassicoidea subsp. angusta`
  usagekey                                 scientificname       rank
1  4208153 Espeletia brassicoidea subsp. angusta Cuatrec. subspecies
    status matchtype                  canonicalname confidence
1 ACCEPTED     EXACT Espeletia brassicoidea angusta         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                 species kingdomkey phylumkey classkey orderkey
1 Espeletia brassicoidea          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105113   FALSE Magnoliopsida

$gbif$`Espeletia hartwegiana subsp. barragensis`
  usagekey                                    scientificname
1  4207715 Espeletia hartwegiana subsp. barragensis Cuatrec.
        rank   status matchtype                     canonicalname
1 subspecies ACCEPTED     EXACT Espeletia hartwegiana barragensis
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia hartwegiana          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    8286763   FALSE Magnoliopsida

$gbif$`Espeletia hartwegiana subsp. centroandina`
  usagekey
1  4207706
                                                 scientificname
1 Espeletia hartwegiana subsp. centroandina (Cuatrec.) Cuatrec.
        rank   status matchtype                      canonicalname
1 subspecies ACCEPTED     EXACT Espeletia hartwegiana centroandina
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia hartwegiana          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    8286763   FALSE Magnoliopsida

$gbif$`Espeletia occidentalis subsp. antioquensis`
  usagekey
1  8916618
2  4207438
                                                  scientificname
1 Espeletia occidentalis subsp. antioquensis (Cuatrec.) Cuatrec.
2              Espeletia occidentalis var. antioquensis Cuatrec.
        rank   status matchtype                       canonicalname
1 subspecies ACCEPTED     EXACT Espeletia occidentalis antioquensis
2    variety  SYNONYM     EXACT Espeletia occidentalis antioquensis
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         92 Plantae Tracheophyta Asterales Asteraceae Espeletia
                 species kingdomkey phylumkey classkey orderkey
1 Espeletia occidentalis          6   7707728      220      414
2 Espeletia occidentalis          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105051   FALSE Magnoliopsida
2      3065  3105048    3105051    TRUE Magnoliopsida
  acceptedusagekey
1               NA
2          8916618
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=0; score=99

$gbif$`Espeletia pycnophylla subsp. angelensis`
  usagekey                                   scientificname
1  4207256 Espeletia pycnophylla subsp. angelensis Cuatrec.
        rank   status matchtype                    canonicalname
1 subspecies ACCEPTED     EXACT Espeletia pycnophylla angelensis
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia pycnophylla          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105054   FALSE Magnoliopsida

$gbif$`Espeletia annemariana var. rupicola`
  usagekey                               scientificname    rank
1  4208302 Espeletia annemariana var. rupicola Cuatrec. variety
    status matchtype                  canonicalname confidence
1 ACCEPTED     EXACT Espeletia annemariana rupicola         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia annemariana          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105075   FALSE Magnoliopsida

$gbif$`Espeletia brassicoidea var. constricta`
  usagekey
1  4208151
2  9327675
3  6301138
4  4208147
                                                scientificname
1                Espeletia brassicoidea f. constricta Cuatrec.
2 Espeletia brassicoidea subsp. constricta (Cuatrec.) Cuatrec.
3               Espeletia brassicoidea var. contracta Cuatrec.
4                 Espeletia brassicoidea f. contracta Cuatrec.
        rank   status matchtype acceptedusagekey
1       form  SYNONYM     EXACT          9327675
2 subspecies ACCEPTED     EXACT               NA
3    variety  SYNONYM     FUZZY          3105119
4       form  SYNONYM     FUZZY          3105117
                      canonicalname confidence kingdom       phylum
1 Espeletia brassicoidea constricta         96 Plantae Tracheophyta
2 Espeletia brassicoidea constricta         93 Plantae Tracheophyta
3  Espeletia brassicoidea contracta         92 Plantae Tracheophyta
4  Espeletia brassicoidea contracta         88 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
2 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
3 Asterales Asteraceae Espeletia Espeletia steyermarkii          6
4 Asterales Asteraceae Espeletia Espeletia conglomerata          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105113    TRUE
2   7707728      220      414      3065  3105048    3105113   FALSE
3   7707728      220      414      3065  3105048    3105119    TRUE
4   7707728      220      414      3065  3105048    3105117    TRUE
          class
1 Magnoliopsida
2 Magnoliopsida
3 Magnoliopsida
4 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=1; score=100
3    Similarity: name=93; authorship=0; classification=-2; rank=6; status=0; score=97
4   Similarity: name=93; authorship=0; classification=-2; rank=-2; status=0; score=89

$gbif$`Espeletia brassicoidea var. lancifolia`
  usagekey                                  scientificname    rank
1  8754396 Espeletia brassicoidea var. lancifolia Cuatrec. variety
    status matchtype                     canonicalname confidence
1 ACCEPTED     EXACT Espeletia brassicoidea lancifolia         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                 species kingdomkey phylumkey classkey orderkey
1 Espeletia brassicoidea          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105113   FALSE Magnoliopsida

$gbif$`Espeletia brassicoidea var. minorifolia`
  usagekey                                 scientificname rank
1  4208144 Espeletia brassicoidea f. minorifolia Cuatrec. form
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          6301139
                       canonicalname confidence kingdom       phylum
1 Espeletia brassicoidea minorifolia         96 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia brassicoidea          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105113    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia conglomerata var. lanceolata`
  usagekey                                  scientificname    rank
1  8823611 Espeletia conglomerata var. lanceolata Cuatrec. variety
    status matchtype                     canonicalname confidence
1 ACCEPTED     EXACT Espeletia conglomerata lanceolata         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                 species kingdomkey phylumkey classkey orderkey
1 Espeletia conglomerata          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105117   FALSE Magnoliopsida

$gbif$`Espeletia conglomerata var. macroclada`
  usagekey                                  scientificname    rank
1  4208032 Espeletia conglomerata var. macroclada Cuatrec. variety
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          3105117
                      canonicalname confidence kingdom       phylum
1 Espeletia conglomerata macroclada         98 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia conglomerata          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105117    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia conglomerata var. pedunculata`
  usagekey                                   scientificname    rank
1  4208025 Espeletia conglomerata var. pedunculata Cuatrec. variety
   status matchtype acceptedusagekey
1 SYNONYM     EXACT          3105117
                       canonicalname confidence kingdom       phylum
1 Espeletia conglomerata pedunculata         98 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia conglomerata          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105117    TRUE
          class
1 Magnoliopsida

$gbif$`Espeletia corymbosa var. foliosa`
  usagekey                        scientificname    rank  status
1  4208006 Espeletia corymbosa var. foliosa Duse variety SYNONYM
  matchtype acceptedusagekey               canonicalname confidence
1     EXACT          3105098 Espeletia corymbosa foliosa         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
              species kingdomkey phylumkey classkey orderkey
1 Espeletia corymbosa          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105098    TRUE Magnoliopsida

$gbif$`Espeletia grandiflora var. attenuata`
  usagekey                                scientificname    rank
1  4207840 Espeletia grandiflora var. attenuata Cuatrec. variety
    status matchtype                   canonicalname confidence
1 ACCEPTED     EXACT Espeletia grandiflora attenuata         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059   FALSE Magnoliopsida

$gbif$`Espeletia grandiflora var. bocayana`
  usagekey                                            scientificname
1  4207830              Espeletia grandiflora var. boyacana Cuatrec.
2  9389167 Espeletia grandiflora subsp. boyacana (Cuatrec.) Cuatrec.
        rank   status matchtype                  canonicalname
1    variety ACCEPTED     FUZZY Espeletia grandiflora boyacana
2 subspecies  SYNONYM     FUZZY Espeletia grandiflora boyacana
  confidence kingdom       phylum     order     family     genus
1         94 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         82 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
2 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059   FALSE Magnoliopsida
2      3065  3105048    3105059    TRUE Magnoliopsida
  acceptedusagekey
1               NA
2          4207830
                                                                               note
1                                                                              &lt;NA&gt;
2 Similarity: name=93; authorship=0; classification=-2; rank=-9; status=0; score=82

$gbif$`Espeletia grandiflora var. boyacana`
  usagekey                                            scientificname
1  4207830              Espeletia grandiflora var. boyacana Cuatrec.
2  9389167 Espeletia grandiflora subsp. boyacana (Cuatrec.) Cuatrec.
        rank   status matchtype                  canonicalname
1    variety ACCEPTED     EXACT Espeletia grandiflora boyacana
2 subspecies  SYNONYM     EXACT Espeletia grandiflora boyacana
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         92 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
2 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059   FALSE Magnoliopsida
2      3065  3105048    3105059    TRUE Magnoliopsida
  acceptedusagekey
1               NA
2          4207830
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=0; score=99

$gbif$`Espeletia grandiflora var. grandiflora`
  usagekey                         scientificname    rank   status
1  7223348 Espeletia grandiflora var. grandiflora variety ACCEPTED
2  6301155   Espeletia grandiflora f. grandiflora    form  SYNONYM
  matchtype                     canonicalname confidence kingdom
1     EXACT Espeletia grandiflora grandiflora         98 Plantae
2     EXACT Espeletia grandiflora grandiflora         95 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia grandiflora
2 Tracheophyta Asterales Asteraceae Espeletia Espeletia grandiflora
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
2          6   7707728      220      414      3065  3105048
  specieskey synonym         class acceptedusagekey
1    3105059   FALSE Magnoliopsida               NA
2    3105059    TRUE Magnoliopsida          3105059
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-2; status=0; score=106

$gbif$`Espeletia grandiflora var. subnivalis`
  usagekey
1  4207793
2  9262559
                                               scientificname
1              Espeletia grandiflora var. subnivalis Cuatrec.
2 Espeletia grandiflora subsp. subnivalis (Cuatrec.) Cuatrec.
        rank   status matchtype                    canonicalname
1    variety ACCEPTED     EXACT Espeletia grandiflora subnivalis
2 subspecies  SYNONYM     EXACT Espeletia grandiflora subnivalis
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         92 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia grandiflora          6   7707728      220      414
2 Espeletia grandiflora          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105059   FALSE Magnoliopsida
2      3065  3105048    3105059    TRUE Magnoliopsida
  acceptedusagekey
1               NA
2          4207793
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=0; score=99

$gbif$`Espeletia hartwegiana var. hartwegiana`
  usagekey                           scientificname       rank
1  7223349   Espeletia hartwegiana var. hartwegiana    variety
2  6301141 Espeletia hartwegiana subsp. hartwegiana subspecies
    status matchtype                     canonicalname confidence
1 ACCEPTED     EXACT Espeletia hartwegiana hartwegiana         99
2 ACCEPTED     EXACT Espeletia hartwegiana hartwegiana         93
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
2 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia hartwegiana          6   7707728      220      414
2 Espeletia hartwegiana          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    8286763   FALSE Magnoliopsida
2      3065  3105048    8286763   FALSE Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=1; score=100

$gbif$`Espeletia hartwegiana var. morarum`
  usagekey                                scientificname       rank
1  4207700   Espeletia hartwegiana var. morarum Cuatrec.    variety
2  9781994 Espeletia hartwegiana subsp. morarum Cuatrec. subspecies
    status matchtype                 canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia hartwegiana morarum         99 Plantae
2  SYNONYM     EXACT Espeletia hartwegiana morarum         92 Plantae
        phylum     order     family     genus               species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia hartwegiana
2 Tracheophyta Asterales Asteraceae Espeletia Espeletia hartwegiana
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
2          6   7707728      220      414      3065  3105048
  specieskey synonym         class acceptedusagekey
1    8286763   FALSE Magnoliopsida               NA
2    8286763    TRUE Magnoliopsida          6301141
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=0; score=99

$gbif$`Espeletia hartwegiana var. vegasana`
  usagekey                               scientificname    rank
1  4207693 Espeletia hartwegiana var. vegasana Cuatrec. variety
    status matchtype                  canonicalname confidence
1 ACCEPTED     EXACT Espeletia hartwegiana vegasana         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia hartwegiana          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    8286763   FALSE Magnoliopsida

$gbif$`Espeletia killipii var. chicasana`
  usagekey                             scientificname    rank
1  4207623 Espeletia killipii var. chisacana Cuatrec. variety
    status matchtype                canonicalname confidence kingdom
1 ACCEPTED     FUZZY Espeletia killipii chisacana         94 Plantae
        phylum     order     family     genus            species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia killipii
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105069   FALSE Magnoliopsida

$gbif$`Espeletia killipii var. chisacana`
  usagekey                             scientificname    rank
1  4207623 Espeletia killipii var. chisacana Cuatrec. variety
    status matchtype                canonicalname confidence kingdom
1 ACCEPTED     EXACT Espeletia killipii chisacana         99 Plantae
        phylum     order     family     genus            species
1 Tracheophyta Asterales Asteraceae Espeletia Espeletia killipii
  kingdomkey phylumkey classkey orderkey familykey genuskey
1          6   7707728      220      414      3065  3105048
  specieskey synonym         class
1    3105069   FALSE Magnoliopsida

$gbif$`Espeletia lopezii var. escobalensis`
  usagekey                               scientificname    rank
1  4207564 Espeletia lopezii var. escobalensis Cuatrec. variety
    status matchtype                  canonicalname confidence
1 ACCEPTED     EXACT Espeletia lopezii escobalensis         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
            species kingdomkey phylumkey classkey orderkey familykey
1 Espeletia lopezii          6   7707728      220      414      3065
  genuskey specieskey synonym         class
1  3105048    3105109   FALSE Magnoliopsida

$gbif$`Espeletia lopezii var. major`
  usagekey                        scientificname    rank   status
1  4207557 Espeletia lopezii var. major Cuatrec. variety ACCEPTED
  matchtype           canonicalname confidence kingdom       phylum
1     EXACT Espeletia lopezii major         99 Plantae Tracheophyta
      order     family     genus           species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia lopezii          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105109   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia murilloi var. rusiana`
  usagekey                           scientificname    rank  status
1  4207482 Espeletia murilloi var. rusiana Cuatrec. variety SYNONYM
  matchtype acceptedusagekey              canonicalname confidence
1     EXACT          3105074 Espeletia murilloi rusiana         98
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
             species kingdomkey phylumkey classkey orderkey familykey
1 Espeletia murilloi          6   7707728      220      414      3065
  genuskey specieskey synonym         class
1  3105048    3105074    TRUE Magnoliopsida

$gbif$`Espeletia murilloi var. subcoriacea`
  usagekey                                 scientificname       rank
1  4207477   Espeletia murilloi var. subcoriacea Cuatrec.    variety
2  6301128 Espeletia murilloi subsp. subcoriacea Cuatrec. subspecies
   status matchtype acceptedusagekey                  canonicalname
1 SYNONYM     EXACT          3105074 Espeletia murilloi subcoriacea
2 SYNONYM     EXACT          3105074 Espeletia murilloi subcoriacea
  confidence kingdom       phylum     order     family     genus
1         98 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         92 Plantae Tracheophyta Asterales Asteraceae Espeletia
             species kingdomkey phylumkey classkey orderkey familykey
1 Espeletia murilloi          6   7707728      220      414      3065
2 Espeletia murilloi          6   7707728      220      414      3065
  genuskey specieskey synonym         class
1  3105048    3105074    TRUE Magnoliopsida
2  3105048    3105074    TRUE Magnoliopsida
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=0; score=99

$gbif$`Espeletia occidentalis var. antioquensis`
  usagekey
1  4207438
2  8916618
                                                  scientificname
1              Espeletia occidentalis var. antioquensis Cuatrec.
2 Espeletia occidentalis subsp. antioquensis (Cuatrec.) Cuatrec.
        rank   status matchtype acceptedusagekey
1    variety  SYNONYM     EXACT          8916618
2 subspecies ACCEPTED     EXACT               NA
                        canonicalname confidence kingdom       phylum
1 Espeletia occidentalis antioquensis         98 Plantae Tracheophyta
2 Espeletia occidentalis antioquensis         93 Plantae Tracheophyta
      order     family     genus                species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia occidentalis          6
2 Asterales Asteraceae Espeletia Espeletia occidentalis          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105051    TRUE
2   7707728      220      414      3065  3105048    3105051   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=1; score=100

$gbif$`Espeletia petiolata var. escobensis`
  usagekey                               scientificname    rank
1  4207369 Espeletia petiolata var. escobensis Cuatrec. variety
    status matchtype                  canonicalname confidence
1 ACCEPTED     EXACT Espeletia petiolata escobensis         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
              species kingdomkey phylumkey classkey orderkey
1 Espeletia petiolata          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3139319   FALSE Magnoliopsida

$gbif$`Espeletia pycnophylla var. galerana`
  usagekey                               scientificname    rank
1  4207248 Espeletia pycnophylla var. galerana Cuatrec. variety
    status matchtype                  canonicalname confidence
1 ACCEPTED     EXACT Espeletia pycnophylla galerana         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia pycnophylla          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105054   FALSE Magnoliopsida

$gbif$`Espeletia pycnophylla var. lacinulata`
  usagekey                                 scientificname    rank
1  4207240 Espeletia pycnophylla var. lacinulata Cuatrec. variety
    status matchtype                    canonicalname confidence
1 ACCEPTED     EXACT Espeletia pycnophylla lacinulata         99
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia pycnophylla          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105054   FALSE Magnoliopsida

$gbif$`Espeletia pycnophylla var. pycnophylla`
  usagekey                           scientificname       rank
1  7066182   Espeletia pycnophylla var. pycnophylla    variety
2  7223347 Espeletia pycnophylla subsp. pycnophylla subspecies
    status matchtype                     canonicalname confidence
1 ACCEPTED     EXACT Espeletia pycnophylla pycnophylla         99
2 ACCEPTED     EXACT Espeletia pycnophylla pycnophylla         93
  kingdom       phylum     order     family     genus
1 Plantae Tracheophyta Asterales Asteraceae Espeletia
2 Plantae Tracheophyta Asterales Asteraceae Espeletia
                species kingdomkey phylumkey classkey orderkey
1 Espeletia pycnophylla          6   7707728      220      414
2 Espeletia pycnophylla          6   7707728      220      414
  familykey genuskey specieskey synonym         class
1      3065  3105048    3105054   FALSE Magnoliopsida
2      3065  3105048    3105054   FALSE Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=1; score=100

$gbif$`Espeletia rositae var. macrocephala`
  usagekey                                            scientificname
1  4207187              Espeletia rositae var. macrocephala Cuatrec.
2  9294162 Espeletia rositae subsp. macrocephala (Cuatrec.) Cuatrec.
        rank   status matchtype                  canonicalname
1    variety ACCEPTED     EXACT Espeletia rositae macrocephala
2 subspecies  SYNONYM     EXACT Espeletia rositae macrocephala
  confidence kingdom       phylum     order     family     genus
1         99 Plantae Tracheophyta Asterales Asteraceae Espeletia
2         92 Plantae Tracheophyta Asterales Asteraceae Espeletia
            species kingdomkey phylumkey classkey orderkey familykey
1 Espeletia rositae          6   7707728      220      414      3065
2 Espeletia rositae          6   7707728      220      414      3065
  genuskey specieskey synonym         class acceptedusagekey
1  3105048    3105070   FALSE Magnoliopsida               NA
2  3105048    3105070    TRUE Magnoliopsida          4207187
                                                                                note
1                                                                               &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=0; score=99

$gbif$`Espeletia rositae var. monocephala`
  usagekey             scientificname    rank   status  matchtype
1  3105070 Espeletia rositae Cuatrec. species ACCEPTED HIGHERRANK
      canonicalname confidence kingdom       phylum     order
1 Espeletia rositae         99 Plantae Tracheophyta Asterales
      family     genus           species kingdomkey phylumkey
1 Asteraceae Espeletia Espeletia rositae          6   7707728
  classkey orderkey familykey genuskey specieskey synonym
1      220      414      3065  3105048    3105070   FALSE
          class
1 Magnoliopsida

$gbif$`Espeletia standleyana var. ampla`
  usagekey                                         scientificname
1  4207039              Espeletia standleyana var. ampla Cuatrec.
2  9490665 Espeletia standleyana subsp. ampla (Cuatrec.) Cuatrec.
        rank   status matchtype acceptedusagekey
1    variety  SYNONYM     EXACT          9490665
2 subspecies ACCEPTED     EXACT               NA
                canonicalname confidence kingdom       phylum
1 Espeletia standleyana ampla         98 Plantae Tracheophyta
2 Espeletia standleyana ampla         93 Plantae Tracheophyta
      order     family     genus               species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia standleyana          6
2 Asterales Asteraceae Espeletia Espeletia standleyana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105099    TRUE
2   7707728      220      414      3065  3105048    3105099   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=1; score=100

$gbif$`Espeletia standleyana var. laxior`
  usagekey                                          scientificname
1  4207035              Espeletia standleyana var. laxior Cuatrec.
2  9300498 Espeletia standleyana subsp. laxior (Cuatrec.) Cuatrec.
        rank   status matchtype acceptedusagekey
1    variety  SYNONYM     EXACT          9300498
2 subspecies ACCEPTED     EXACT               NA
                 canonicalname confidence kingdom       phylum
1 Espeletia standleyana laxior         98 Plantae Tracheophyta
2 Espeletia standleyana laxior         93 Plantae Tracheophyta
      order     family     genus               species kingdomkey
1 Asterales Asteraceae Espeletia Espeletia standleyana          6
2 Asterales Asteraceae Espeletia Espeletia standleyana          6
  phylumkey classkey orderkey familykey genuskey specieskey synonym
1   7707728      220      414      3065  3105048    3105099    TRUE
2   7707728      220      414      3065  3105048    3105099   FALSE
          class
1 Magnoliopsida
2 Magnoliopsida
                                                                                 note
1                                                                                &lt;NA&gt;
2 Similarity: name=110; authorship=0; classification=-2; rank=-9; status=1; score=100


attr(,&quot;class&quot;)
[1] &quot;ids&quot;</code></pre>
</div>
<p>En la mayoría de los casos obtenemos una sola respuesta por especie, pero pueden ser más.
El resultado es una lista (ver <a href="doc_R_clases_modos.html#las-listas">documentación</a>) compuesta de 2 niveles:</p>
<ol type="1">
<li>la base de datos utilizada (aquí gbif)</li>
<li>los “match” encontrados en la base de datos: consisten en una tabla por especie, ordenada con los matchs más fuertes primeros</li>
</ol>
<p>Para extraer los scientificname, sus ids en gbif y si son sinonimos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>result</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/funprog.html'>Reduce</a></span><span class='op'>(</span><span class='va'>rbind</span>, <span class='co'># Reduce con la funcion rbind permite hacer una tabla desde una lista que contiene las filas</span></span>
<span>       <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>reconocido</span><span class='op'>$</span><span class='va'>gbif</span>,<span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='va'>x</span><span class='op'>[</span><span class='fl'>1</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"usagekey"</span>,<span class='st'>"scientificname"</span>,<span class='st'>"synonym"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span> <span class='co'># lapply aplica la funcion de extración a cada elemento de la lista</span></span>
<span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span><span class='op'>(</span><span class='va'>result</span><span class='op'>)</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>reconocido</span><span class='op'>$</span><span class='va'>gbif</span><span class='op'>)</span></span>
<span><span class='va'>result</span></span></code></pre>
</div>
<pre><code>                                               usagekey
Espeletia almorzana f. latifolia                4208332
Espeletia argentea f. phaneractis               4208269
Espeletia brassicoidea f. constricta            4208151
Espeletia brassicoidea f. minorifolia           4208144
Espeletia brassicoidea fo. contracta            4208147
Espeletia grandiflora f. longiligulata          4207817
Espeletia grandiflora f. multiflora             4207802
Espeletia grandiflora fo. longiligulata         4207817
Espeletia grandiflora fo. multiflora            4207802
Espeletia grandiflora fo. reducta               4207799
Espeletia grandiflora f. reducta                4207799
Espeletia incana f. prolificens                 8924424
Espeletia lopezii f. alticola                   4207569
Espeletia lopezii fo. alticola                  4207569
Espeletia pachoana f. brevifolia                4207409
Espeletia petiolata fo. corymbosa               4207373
Espeletia petiolata fo. reducta                 4207354
Espeletia pycnophylla f. cochensis              3105054
Espeletia tunjana f. magnificens                3105064
Espeletia                                       3105048
Espeletia almorzana                             3105071
Espeletia alternifolia                          3105050
Espeletia annemariana                           3105075
Espeletia arbelaezii                            3105120
Espeletia argentea                              3105124
Espeletia ariana                                4208267
Espeletia azucarina                             3105053
Espeletia barclayana                            3105057
Espeletia bogotensis                            3139305
Espeletia boyacensis                            3105089
Espeletia brachyaxiantha                        3105078
Espeletia brassicoidea                          3105113
Espeletia cabrerensis                           3105049
Espeletia cachaluensis                          7867857
Espeletia caldasii                              3139338
Espeletia canescens                             3105108
Espeletia cardonae                              3122358
Espeletia cayetana                              3105083
Espeletia centroandina                          3105063
Espeletia chardonii                             3099173
Espeletia chocontana                            3105052
Espeletia chontalensis                          8180955
Espeletia cleefii                               3105061
Espeletia cochensis                             3105066
Espeletia colombiana                            3139303
Espeletia congestiflora                         3105110
Espeletia conglomerata                          3105117
Espeletia corymbosa                             3105098
Espeletia curialensis                           3105073
Espeletia discoidea                             3105068
Espeletia dugandii                              3105115
Espeletia episcopalis                           4207948
Espeletia estanislana                           3105114
Espeletia formosa                               4207924
Espeletia frontinoensis                         3105058
Espeletia funckii                               4207897
Espeletia garciae                               3139307
Espeletia garcibarrigae                         3105096
Espeletia glandulosa                            3101678
Espeletia glossophylla                          3091968
Espeletia grandiflora                           3105059
Espeletia guacharaca                            4207763
Espeletia guascensis                            3105102
Espeletia hartwegiana                           8286763
Espeletia haughtii                              3105048
Espeletia idroboi                               3105062
Espeletia incana                                3105086
Espeletia insignis                              3139335
Espeletia jaramilloi                            3105118
Espeletia jimenez-quesadae                      3139340
Espeletia killipii                              3105069
Espeletia leporina                              3105090
Espeletia lopezii                               3105109
Espeletia marnixiana                            3105072
Espeletia mirabilis                             8992864
Espeletia miradorensis                          3105105
Espeletia muiska                                3139317
Espeletia murilloi                              3105074
Espeletia mutabilis                             4207473
Espeletia nemekenei                             3105093
Espeletia neriifolia                            3091958
Espeletia occidentalis                          3105051
Espeletia oswaldiana                            3105112
Espeletia pachoana                              3105084
Espeletia paipana                               3105080
Espeletia perijaensis                           3105116
Espeletia pescana                               8312358
Espeletia petiolata                             3139319
Espeletia phaneractis                           6063393
Espeletia pisbana                               4207330
Espeletia pleiochasia                           3139333
Espeletia praefrontina                          3105103
Espeletia praesidentis                          9312298
Espeletia pulcherrima                           4207277
Espeletia purpurascens                          3139312
Espeletia pycnophylla                           3105054
Espeletia raquirensis                           9040599
Espeletia roberti                               3105076
Espeletia robertii                              3105076
Espeletia rositae                               3105070
Espeletia santanderensis                        3139328
Espeletia schultesiana                          3105107
Espeletia schultzii                             3105097
Espeletia sclerophylla                          3139315
Espeletia smithiana                             3105060
Espeletia soroca                                4207065
Espeletia standleyana                           3105099
Espeletia steyermarkii                          3105119
Espeletia subneriifolia                         4207021
Espeletia summapacis                            3105077
Espeletia tamana                                3091948
Espeletia tapirophila                           3105067
Espeletia tibamoensis                           8853458
Espeletia trianae                               3139309
Espeletia tunjana                               3105064
Espeletia uribei                                3105056
Espeletia verdeana                              3105122
Espeletia weddellii                             7704619
Espeletia argentea subsp. phaneractis           6301135
Espeletia brachyaxiantha subsp. brachyaxiantha  6301151
Espeletia brassicoidea subsp. angusta           4208153
Espeletia hartwegiana subsp. barragensis        4207715
Espeletia hartwegiana subsp. centroandina       4207706
Espeletia occidentalis subsp. antioquensis      8916618
Espeletia pycnophylla subsp. angelensis         4207256
Espeletia annemariana var. rupicola             4208302
Espeletia brassicoidea var. constricta          4208151
Espeletia brassicoidea var. lancifolia          8754396
Espeletia brassicoidea var. minorifolia         4208144
Espeletia conglomerata var. lanceolata          8823611
Espeletia conglomerata var. macroclada          4208032
Espeletia conglomerata var. pedunculata         4208025
Espeletia corymbosa var. foliosa                4208006
Espeletia grandiflora var. attenuata            4207840
Espeletia grandiflora var. bocayana             4207830
Espeletia grandiflora var. boyacana             4207830
Espeletia grandiflora var. grandiflora          7223348
Espeletia grandiflora var. subnivalis           4207793
Espeletia hartwegiana var. hartwegiana          7223349
Espeletia hartwegiana var. morarum              4207700
Espeletia hartwegiana var. vegasana             4207693
Espeletia killipii var. chicasana               4207623
Espeletia killipii var. chisacana               4207623
Espeletia lopezii var. escobalensis             4207564
Espeletia lopezii var. major                    4207557
Espeletia murilloi var. rusiana                 4207482
Espeletia murilloi var. subcoriacea             4207477
Espeletia occidentalis var. antioquensis        4207438
Espeletia petiolata var. escobensis             4207369
Espeletia pycnophylla var. galerana             4207248
Espeletia pycnophylla var. lacinulata           4207240
Espeletia pycnophylla var. pycnophylla          7066182
Espeletia rositae var. macrocephala             4207187
Espeletia rositae var. monocephala              3105070
Espeletia standleyana var. ampla                4207039
Espeletia standleyana var. laxior               4207035
                                                                                               scientificname
Espeletia almorzana f. latifolia                                   Espeletia ×almorzana f. latifolia Cuatrec.
Espeletia argentea f. phaneractis                      Espeletia argentea f. phaneractis (S.F.Blake) Cuatrec.
Espeletia brassicoidea f. constricta                            Espeletia brassicoidea f. constricta Cuatrec.
Espeletia brassicoidea f. minorifolia                          Espeletia brassicoidea f. minorifolia Cuatrec.
Espeletia brassicoidea fo. contracta                             Espeletia brassicoidea f. contracta Cuatrec.
Espeletia grandiflora f. longiligulata                        Espeletia grandiflora f. longiligulata Cuatrec.
Espeletia grandiflora f. multiflora                              Espeletia grandiflora f. multiflora Cuatrec.
Espeletia grandiflora fo. longiligulata                       Espeletia grandiflora f. longiligulata Cuatrec.
Espeletia grandiflora fo. multiflora                             Espeletia grandiflora f. multiflora Cuatrec.
Espeletia grandiflora fo. reducta                                   Espeletia grandiflora f. reducta Cuatrec.
Espeletia grandiflora f. reducta                                    Espeletia grandiflora f. reducta Cuatrec.
Espeletia incana f. prolificens                                      Espeletia incana f. prolificens Cuatrec.
Espeletia lopezii f. alticola                                          Espeletia lopezii f. alticola Cuatrec.
Espeletia lopezii fo. alticola                                         Espeletia lopezii f. alticola Cuatrec.
Espeletia pachoana f. brevifolia                                   Espeletia ×pachoana f. brevifolia Cuatrec.
Espeletia petiolata fo. corymbosa                                   Espeletia petiolata f. corymbosa Cuatrec.
Espeletia petiolata fo. reducta                                       Espeletia petiolata f. reducta Cuatrec.
Espeletia pycnophylla f. cochensis                                             Espeletia pycnophylla Cuatrec.
Espeletia tunjana f. magnificens                                                   Espeletia tunjana Cuatrec.
Espeletia                                                                   Espeletia Mutis ex Humb. &amp; Bonpl.
Espeletia almorzana                                                             Espeletia ×almorzana Cuatrec.
Espeletia alternifolia                                                        Espeletia alternifolia Cuatrec.
Espeletia annemariana                                                          Espeletia annemariana Cuatrec.
Espeletia arbelaezii                                                            Espeletia arbelaezii Cuatrec.
Espeletia argentea                                                          Espeletia argentea Humb. &amp; Bonpl.
Espeletia ariana                                                       Espeletia ariana Rodr.-Cabeza &amp; S.Díaz
Espeletia azucarina                                                              Espeletia azucarina Cuatrec.
Espeletia barclayana                                                            Espeletia barclayana Cuatrec.
Espeletia bogotensis                                                           Espeletia ×bogotensis Cuatrec.
Espeletia boyacensis                                                            Espeletia boyacensis Cuatrec.
Espeletia brachyaxiantha                                                      Espeletia brachyaxiantha S.Díaz
Espeletia brassicoidea                                                        Espeletia brassicoidea Cuatrec.
Espeletia cabrerensis                                                          Espeletia cabrerensis Cuatrec.
Espeletia cachaluensis                                           Espeletia cachaluensis Rodr.-Cabeza &amp; S.Díaz
Espeletia caldasii                                                                Espeletia caldasii Cuatrec.
Espeletia canescens                                                               Espeletia canescens A.C.Sm.
Espeletia cardonae                                                                Espeletia cardonae Cuatrec.
Espeletia cayetana                                                     Espeletia cayetana (Cuatrec.) Cuatrec.
Espeletia centroandina                                                        Espeletia centroandina Cuatrec.
Espeletia chardonii                                                               Espeletia chardonii A.C.Sm.
Espeletia chocontana                                                            Espeletia chocontana Cuatrec.
Espeletia chontalensis                                           Espeletia chontalensis Rodr.-Cabeza &amp; S.Díaz
Espeletia cleefii                                                                  Espeletia cleefii Cuatrec.
Espeletia cochensis                                                              Espeletia cochensis Cuatrec.
Espeletia colombiana                                                            Espeletia colombiana Cuatrec.
Espeletia congestiflora                                                      Espeletia congestiflora Cuatrec.
Espeletia conglomerata                                                         Espeletia conglomerata A.C.Sm.
Espeletia corymbosa                                                                Espeletia corymbosa Bonpl.
Espeletia curialensis                                                          Espeletia curialensis Cuatrec.
Espeletia discoidea                                                              Espeletia discoidea Cuatrec.
Espeletia dugandii                                                                Espeletia dugandii Cuatrec.
Espeletia episcopalis                                             Espeletia episcopalis Rodr.-Cabeza &amp; S.Díaz
Espeletia estanislana                                                          Espeletia estanislana Cuatrec.
Espeletia formosa                                                     Espeletia formosa S.Díaz &amp; Rodr.-Cabeza
Espeletia frontinoensis                                                      Espeletia frontinoensis Cuatrec.
Espeletia funckii                                                         Espeletia funckii Sch.Bip. ex Wedd.
Espeletia garciae                                                                  Espeletia garciae Cuatrec.
Espeletia garcibarrigae                                                     Espeletia ×garcibarrigae Cuatrec.
Espeletia glandulosa                                                            Espeletia glandulosa Cuatrec.
Espeletia glossophylla                                                          Espeletia glossophylla Mattf.
Espeletia grandiflora                                                    Espeletia grandiflora Humb. &amp; Bonpl.
Espeletia guacharaca                                                              Espeletia guacharaca S.Díaz
Espeletia guascensis                                                           Espeletia ×guascensis Cuatrec.
Espeletia hartwegiana                                                Espeletia hartwegiana Cuatrec. ex Herzog
Espeletia haughtii                                                          Espeletia Mutis ex Humb. &amp; Bonpl.
Espeletia idroboi                                                                  Espeletia idroboi Cuatrec.
Espeletia incana                                                                    Espeletia incana Cuatrec.
Espeletia insignis                                                                Espeletia insignis Cuatrec.
Espeletia jaramilloi                                                              Espeletia jaramilloi S.Díaz
Espeletia jimenez-quesadae                                                Espeletia jimenez-quesadae Cuatrec.
Espeletia killipii                                                                Espeletia killipii Cuatrec.
Espeletia leporina                                                                Espeletia leporina Cuatrec.
Espeletia lopezii                                                                  Espeletia lopezii Cuatrec.
Espeletia marnixiana                                                    Espeletia marnixiana S.Díaz &amp; Pedraza
Espeletia mirabilis                                                 Espeletia mirabilis S.Díaz &amp; Rodr.-Cabeza
Espeletia miradorensis                                             Espeletia miradorensis (Cuatrec.) Cuatrec.
Espeletia muiska                                                                    Espeletia muiska Cuatrec.
Espeletia murilloi                                                                Espeletia murilloi Cuatrec.
Espeletia mutabilis                                                 Espeletia mutabilis S.Díaz &amp; Rodr.-Cabeza
Espeletia nemekenei                                                              Espeletia nemekenei Cuatrec.
Espeletia neriifolia                                  Espeletia neriifolia (Bonpl. ex Humb.) Sch.Bip ex Wedd.
Espeletia occidentalis                                                         Espeletia occidentalis A.C.Sm.
Espeletia oswaldiana                                                              Espeletia oswaldiana S.Díaz
Espeletia pachoana                                                               Espeletia ×pachoana Cuatrec.
Espeletia paipana                                                          Espeletia paipana S.Díaz &amp; Pedraza
Espeletia perijaensis                                                          Espeletia perijaensis Cuatrec.
Espeletia pescana                                                           Espeletia pescana (S.Díaz) S.Díaz
Espeletia petiolata                                                              Espeletia petiolata Cuatrec.
Espeletia phaneractis                                                           Espeletia phaneractis A.C.Sm.
Espeletia pisbana                                                     Espeletia pisbana S.Díaz &amp; Rodr.-Cabeza
Espeletia pleiochasia                                                          Espeletia pleiochasia Cuatrec.
Espeletia praefrontina                                                        Espeletia praefrontina Cuatrec.
Espeletia praesidentis                                           Espeletia praesidentis Diazgr. &amp; L.R.Sánchez
Espeletia pulcherrima                                             Espeletia pulcherrima Rodr.-Cabeza &amp; S.Díaz
Espeletia purpurascens                                                        Espeletia purpurascens Cuatrec.
Espeletia pycnophylla                                                          Espeletia pycnophylla Cuatrec.
Espeletia raquirensis                                             Espeletia raquirensis Rodr.-Cabeza &amp; S.Díaz
Espeletia roberti                                                                  Espeletia roberti Cuatrec.
Espeletia robertii                                                                 Espeletia roberti Cuatrec.
Espeletia rositae                                                                  Espeletia rositae Cuatrec.
Espeletia santanderensis                                                     Espeletia santanderensis A.C.Sm.
Espeletia schultesiana                                                        Espeletia schultesiana Cuatrec.
Espeletia schultzii                                                                 Espeletia schultzii Wedd.
Espeletia sclerophylla                                                        Espeletia sclerophylla Cuatrec.
Espeletia smithiana                                                              Espeletia smithiana Cuatrec.
Espeletia soroca                                                       Espeletia soroca S.Díaz &amp; Rodr.-Cabeza
Espeletia standleyana                                                           Espeletia standleyana A.C.Sm.
Espeletia steyermarkii                                                        Espeletia steyermarkii Cuatrec.
Espeletia subneriifolia                                                      Espeletia subneriifolia Cuatrec.
Espeletia summapacis                                                            Espeletia summapacis Cuatrec.
Espeletia tamana                                                                    Espeletia tamana Cuatrec.
Espeletia tapirophila                                                          Espeletia tapirophila Cuatrec.
Espeletia tibamoensis                                             Espeletia tibamoensis Rodr.-Cabeza &amp; S.Díaz
Espeletia trianae                                                                  Espeletia trianae Cuatrec.
Espeletia tunjana                                                                  Espeletia tunjana Cuatrec.
Espeletia uribei                                                                    Espeletia uribei Cuatrec.
Espeletia verdeana                                                               Espeletia ×verdeana Cuatrec.
Espeletia weddellii                                                              Espeletia weddellii Sch.Bip.
Espeletia argentea subsp. phaneractis                         Espeletia argentea subsp. phaneractis S.F.Blake
Espeletia brachyaxiantha subsp. brachyaxiantha                 Espeletia brachyaxiantha subsp. brachyaxiantha
Espeletia brassicoidea subsp. angusta                          Espeletia brassicoidea subsp. angusta Cuatrec.
Espeletia hartwegiana subsp. barragensis                    Espeletia hartwegiana subsp. barragensis Cuatrec.
Espeletia hartwegiana subsp. centroandina       Espeletia hartwegiana subsp. centroandina (Cuatrec.) Cuatrec.
Espeletia occidentalis subsp. antioquensis     Espeletia occidentalis subsp. antioquensis (Cuatrec.) Cuatrec.
Espeletia pycnophylla subsp. angelensis                      Espeletia pycnophylla subsp. angelensis Cuatrec.
Espeletia annemariana var. rupicola                              Espeletia annemariana var. rupicola Cuatrec.
Espeletia brassicoidea var. constricta                          Espeletia brassicoidea f. constricta Cuatrec.
Espeletia brassicoidea var. lancifolia                        Espeletia brassicoidea var. lancifolia Cuatrec.
Espeletia brassicoidea var. minorifolia                        Espeletia brassicoidea f. minorifolia Cuatrec.
Espeletia conglomerata var. lanceolata                        Espeletia conglomerata var. lanceolata Cuatrec.
Espeletia conglomerata var. macroclada                        Espeletia conglomerata var. macroclada Cuatrec.
Espeletia conglomerata var. pedunculata                      Espeletia conglomerata var. pedunculata Cuatrec.
Espeletia corymbosa var. foliosa                                        Espeletia corymbosa var. foliosa Duse
Espeletia grandiflora var. attenuata                            Espeletia grandiflora var. attenuata Cuatrec.
Espeletia grandiflora var. bocayana                              Espeletia grandiflora var. boyacana Cuatrec.
Espeletia grandiflora var. boyacana                              Espeletia grandiflora var. boyacana Cuatrec.
Espeletia grandiflora var. grandiflora                                 Espeletia grandiflora var. grandiflora
Espeletia grandiflora var. subnivalis                          Espeletia grandiflora var. subnivalis Cuatrec.
Espeletia hartwegiana var. hartwegiana                                 Espeletia hartwegiana var. hartwegiana
Espeletia hartwegiana var. morarum                                Espeletia hartwegiana var. morarum Cuatrec.
Espeletia hartwegiana var. vegasana                              Espeletia hartwegiana var. vegasana Cuatrec.
Espeletia killipii var. chicasana                                  Espeletia killipii var. chisacana Cuatrec.
Espeletia killipii var. chisacana                                  Espeletia killipii var. chisacana Cuatrec.
Espeletia lopezii var. escobalensis                              Espeletia lopezii var. escobalensis Cuatrec.
Espeletia lopezii var. major                                            Espeletia lopezii var. major Cuatrec.
Espeletia murilloi var. rusiana                                      Espeletia murilloi var. rusiana Cuatrec.
Espeletia murilloi var. subcoriacea                              Espeletia murilloi var. subcoriacea Cuatrec.
Espeletia occidentalis var. antioquensis                    Espeletia occidentalis var. antioquensis Cuatrec.
Espeletia petiolata var. escobensis                              Espeletia petiolata var. escobensis Cuatrec.
Espeletia pycnophylla var. galerana                              Espeletia pycnophylla var. galerana Cuatrec.
Espeletia pycnophylla var. lacinulata                          Espeletia pycnophylla var. lacinulata Cuatrec.
Espeletia pycnophylla var. pycnophylla                                 Espeletia pycnophylla var. pycnophylla
Espeletia rositae var. macrocephala                              Espeletia rositae var. macrocephala Cuatrec.
Espeletia rositae var. monocephala                                                 Espeletia rositae Cuatrec.
Espeletia standleyana var. ampla                                    Espeletia standleyana var. ampla Cuatrec.
Espeletia standleyana var. laxior                                  Espeletia standleyana var. laxior Cuatrec.
                                               synonym
Espeletia almorzana f. latifolia                  TRUE
Espeletia argentea f. phaneractis                FALSE
Espeletia brassicoidea f. constricta              TRUE
Espeletia brassicoidea f. minorifolia             TRUE
Espeletia brassicoidea fo. contracta              TRUE
Espeletia grandiflora f. longiligulata            TRUE
Espeletia grandiflora f. multiflora               TRUE
Espeletia grandiflora fo. longiligulata           TRUE
Espeletia grandiflora fo. multiflora              TRUE
Espeletia grandiflora fo. reducta                 TRUE
Espeletia grandiflora f. reducta                  TRUE
Espeletia incana f. prolificens                  FALSE
Espeletia lopezii f. alticola                    FALSE
Espeletia lopezii fo. alticola                   FALSE
Espeletia pachoana f. brevifolia                  TRUE
Espeletia petiolata fo. corymbosa                FALSE
Espeletia petiolata fo. reducta                   TRUE
Espeletia pycnophylla f. cochensis               FALSE
Espeletia tunjana f. magnificens                 FALSE
Espeletia                                        FALSE
Espeletia almorzana                              FALSE
Espeletia alternifolia                            TRUE
Espeletia annemariana                            FALSE
Espeletia arbelaezii                             FALSE
Espeletia argentea                               FALSE
Espeletia ariana                                 FALSE
Espeletia azucarina                              FALSE
Espeletia barclayana                             FALSE
Espeletia bogotensis                             FALSE
Espeletia boyacensis                             FALSE
Espeletia brachyaxiantha                         FALSE
Espeletia brassicoidea                           FALSE
Espeletia cabrerensis                            FALSE
Espeletia cachaluensis                           FALSE
Espeletia caldasii                               FALSE
Espeletia canescens                              FALSE
Espeletia cardonae                               FALSE
Espeletia cayetana                               FALSE
Espeletia centroandina                            TRUE
Espeletia chardonii                              FALSE
Espeletia chocontana                             FALSE
Espeletia chontalensis                           FALSE
Espeletia cleefii                                FALSE
Espeletia cochensis                               TRUE
Espeletia colombiana                             FALSE
Espeletia congestiflora                          FALSE
Espeletia conglomerata                           FALSE
Espeletia corymbosa                              FALSE
Espeletia curialensis                            FALSE
Espeletia discoidea                              FALSE
Espeletia dugandii                               FALSE
Espeletia episcopalis                            FALSE
Espeletia estanislana                            FALSE
Espeletia formosa                                FALSE
Espeletia frontinoensis                          FALSE
Espeletia funckii                                FALSE
Espeletia garciae                                FALSE
Espeletia garcibarrigae                          FALSE
Espeletia glandulosa                             FALSE
Espeletia glossophylla                            TRUE
Espeletia grandiflora                            FALSE
Espeletia guacharaca                             FALSE
Espeletia guascensis                             FALSE
Espeletia hartwegiana                            FALSE
Espeletia haughtii                               FALSE
Espeletia idroboi                                FALSE
Espeletia incana                                 FALSE
Espeletia insignis                               FALSE
Espeletia jaramilloi                             FALSE
Espeletia jimenez-quesadae                       FALSE
Espeletia killipii                               FALSE
Espeletia leporina                                TRUE
Espeletia lopezii                                FALSE
Espeletia marnixiana                             FALSE
Espeletia mirabilis                              FALSE
Espeletia miradorensis                           FALSE
Espeletia muiska                                 FALSE
Espeletia murilloi                               FALSE
Espeletia mutabilis                              FALSE
Espeletia nemekenei                              FALSE
Espeletia neriifolia                             FALSE
Espeletia occidentalis                           FALSE
Espeletia oswaldiana                             FALSE
Espeletia pachoana                               FALSE
Espeletia paipana                                FALSE
Espeletia perijaensis                            FALSE
Espeletia pescana                                FALSE
Espeletia petiolata                              FALSE
Espeletia phaneractis                             TRUE
Espeletia pisbana                                FALSE
Espeletia pleiochasia                            FALSE
Espeletia praefrontina                           FALSE
Espeletia praesidentis                           FALSE
Espeletia pulcherrima                            FALSE
Espeletia purpurascens                           FALSE
Espeletia pycnophylla                            FALSE
Espeletia raquirensis                            FALSE
Espeletia roberti                                FALSE
Espeletia robertii                               FALSE
Espeletia rositae                                FALSE
Espeletia santanderensis                         FALSE
Espeletia schultesiana                           FALSE
Espeletia schultzii                              FALSE
Espeletia sclerophylla                           FALSE
Espeletia smithiana                               TRUE
Espeletia soroca                                 FALSE
Espeletia standleyana                            FALSE
Espeletia steyermarkii                           FALSE
Espeletia subneriifolia                           TRUE
Espeletia summapacis                             FALSE
Espeletia tamana                                 FALSE
Espeletia tapirophila                            FALSE
Espeletia tibamoensis                            FALSE
Espeletia trianae                                FALSE
Espeletia tunjana                                FALSE
Espeletia uribei                                 FALSE
Espeletia verdeana                               FALSE
Espeletia weddellii                               TRUE
Espeletia argentea subsp. phaneractis             TRUE
Espeletia brachyaxiantha subsp. brachyaxiantha    TRUE
Espeletia brassicoidea subsp. angusta            FALSE
Espeletia hartwegiana subsp. barragensis         FALSE
Espeletia hartwegiana subsp. centroandina        FALSE
Espeletia occidentalis subsp. antioquensis       FALSE
Espeletia pycnophylla subsp. angelensis          FALSE
Espeletia annemariana var. rupicola              FALSE
Espeletia brassicoidea var. constricta            TRUE
Espeletia brassicoidea var. lancifolia           FALSE
Espeletia brassicoidea var. minorifolia           TRUE
Espeletia conglomerata var. lanceolata           FALSE
Espeletia conglomerata var. macroclada            TRUE
Espeletia conglomerata var. pedunculata           TRUE
Espeletia corymbosa var. foliosa                  TRUE
Espeletia grandiflora var. attenuata             FALSE
Espeletia grandiflora var. bocayana              FALSE
Espeletia grandiflora var. boyacana              FALSE
Espeletia grandiflora var. grandiflora           FALSE
Espeletia grandiflora var. subnivalis            FALSE
Espeletia hartwegiana var. hartwegiana           FALSE
Espeletia hartwegiana var. morarum               FALSE
Espeletia hartwegiana var. vegasana              FALSE
Espeletia killipii var. chicasana                FALSE
Espeletia killipii var. chisacana                FALSE
Espeletia lopezii var. escobalensis              FALSE
Espeletia lopezii var. major                     FALSE
Espeletia murilloi var. rusiana                   TRUE
Espeletia murilloi var. subcoriacea               TRUE
Espeletia occidentalis var. antioquensis          TRUE
Espeletia petiolata var. escobensis              FALSE
Espeletia pycnophylla var. galerana              FALSE
Espeletia pycnophylla var. lacinulata            FALSE
Espeletia pycnophylla var. pycnophylla           FALSE
Espeletia rositae var. macrocephala              FALSE
Espeletia rositae var. monocephala               FALSE
Espeletia standleyana var. ampla                  TRUE
Espeletia standleyana var. laxior                 TRUE</code></pre>
</div>
<h3 data-number="1.3.3" id="manejar-sinonimos"><span class="header-section-number">1.3.3</span> Manejar sinonimos</h3>
<p>Para extraer los “acceptedusagekey” cuando los nombre de taxones son sinónimos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='op'>(</span><span class='va'>sinoAcc</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='va'>reconocido</span><span class='op'>$</span><span class='va'>gbif</span><span class='op'>[</span><span class='va'>result</span><span class='op'>$</span><span class='va'>synonym</span><span class='op'>]</span>,<span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='va'>x</span><span class='op'>$</span><span class='va'>acceptedusagekey</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>              Espeletia almorzana f. latifolia 
                                       3105071 
          Espeletia brassicoidea f. constricta 
                                       9327675 
         Espeletia brassicoidea f. minorifolia 
                                       6301139 
          Espeletia brassicoidea fo. contracta 
                                       3105117 
        Espeletia grandiflora f. longiligulata 
                                       3105059 
           Espeletia grandiflora f. multiflora 
                                       3105059 
       Espeletia grandiflora fo. longiligulata 
                                       3105059 
          Espeletia grandiflora fo. multiflora 
                                       3105059 
             Espeletia grandiflora fo. reducta 
                                       3105059 
              Espeletia grandiflora f. reducta 
                                       3105059 
              Espeletia pachoana f. brevifolia 
                                       3105084 
               Espeletia petiolata fo. reducta 
                                       3139319 
                        Espeletia alternifolia 
                                       9422592 
                        Espeletia centroandina 
                                       4207706 
                           Espeletia cochensis 
                                       7223347 
                        Espeletia glossophylla 
                                      10877175 
                            Espeletia leporina 
                                       3099173 
                         Espeletia phaneractis 
                                       4208269 
                           Espeletia smithiana 
                                       4207897 
                       Espeletia subneriifolia 
                                      10877175 
                           Espeletia weddellii 
                                       3105087 
         Espeletia argentea subsp. phaneractis 
                                       4208269 
Espeletia brachyaxiantha subsp. brachyaxiantha 
                                       3105078 
        Espeletia brassicoidea var. constricta 
                                       9327675 
       Espeletia brassicoidea var. minorifolia 
                                       6301139 
        Espeletia conglomerata var. macroclada 
                                       3105117 
       Espeletia conglomerata var. pedunculata 
                                       3105117 
              Espeletia corymbosa var. foliosa 
                                       3105098 
               Espeletia murilloi var. rusiana 
                                       3105074 
           Espeletia murilloi var. subcoriacea 
                                       3105074 
      Espeletia occidentalis var. antioquensis 
                                       8916618 
              Espeletia standleyana var. ampla 
                                       9490665 
             Espeletia standleyana var. laxior 
                                       9300498 </code></pre>
</div>
<p>Obtener los nombres acceptados:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fu'><a href='https://docs.ropensci.org/taxize/reference/get_gbifid.html'>as.gbifid</a></span><span class='op'>(</span><span class='va'>sinoAcc</span><span class='op'>)</span>,<span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='fu'><a href='https://docs.ropensci.org/taxize/reference/gbif_name_usage.html'>gbif_name_usage</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>$</span><span class='va'>scientificName</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>                                                         3105071 
                                 &quot;Espeletia ×almorzana Cuatrec.&quot; 
                                                         9327675 
  &quot;Espeletia brassicoidea subsp. constricta (Cuatrec.) Cuatrec.&quot; 
                                                         6301139 
                    &quot;Espeletia brassicoidea subsp. brassicoidea&quot; 
                                                         3105117 
                                &quot;Espeletia conglomerata A.C.Sm.&quot; 
                                                         3105059 
                          &quot;Espeletia grandiflora Humb. &amp; Bonpl.&quot; 
                                                         3105059 
                          &quot;Espeletia grandiflora Humb. &amp; Bonpl.&quot; 
                                                         3105059 
                          &quot;Espeletia grandiflora Humb. &amp; Bonpl.&quot; 
                                                         3105059 
                          &quot;Espeletia grandiflora Humb. &amp; Bonpl.&quot; 
                                                         3105059 
                          &quot;Espeletia grandiflora Humb. &amp; Bonpl.&quot; 
                                                         3105059 
                          &quot;Espeletia grandiflora Humb. &amp; Bonpl.&quot; 
                                                         3105084 
                                  &quot;Espeletia ×pachoana Cuatrec.&quot; 
                                                         3139319 
                                  &quot;Espeletia petiolata Cuatrec.&quot; 
                                                         9422592 
    &quot;Espeletia schultesiana f. alternifolia (Cuatrec.) Cuatrec.&quot; 
                                                         4207706 
 &quot;Espeletia hartwegiana subsp. centroandina (Cuatrec.) Cuatrec.&quot; 
                                                         7223347 
                      &quot;Espeletia pycnophylla subsp. pycnophylla&quot; 
                                                        10877175 
        &quot;Espeletia occulta subsp. glossophylla (Mattf.) Mavárez&quot; 
                                                         3099173 
                                   &quot;Espeletia chardonii A.C.Sm.&quot; 
                                                         4208269 
        &quot;Espeletia argentea f. phaneractis (S.F.Blake) Cuatrec.&quot; 
                                                         4207897 
                           &quot;Espeletia funckii Sch.Bip. ex Wedd.&quot; 
                                                        10877175 
        &quot;Espeletia occulta subsp. glossophylla (Mattf.) Mavárez&quot; 
                                                         3105087 
                          &quot;Espeletia weddelii Sch.Bip. ex Wedd.&quot; 
                                                         4208269 
        &quot;Espeletia argentea f. phaneractis (S.F.Blake) Cuatrec.&quot; 
                                                         3105078 
                               &quot;Espeletia brachyaxiantha S.Díaz&quot; 
                                                         9327675 
  &quot;Espeletia brassicoidea subsp. constricta (Cuatrec.) Cuatrec.&quot; 
                                                         6301139 
                    &quot;Espeletia brassicoidea subsp. brassicoidea&quot; 
                                                         3105117 
                                &quot;Espeletia conglomerata A.C.Sm.&quot; 
                                                         3105117 
                                &quot;Espeletia conglomerata A.C.Sm.&quot; 
                                                         3105098 
                                    &quot;Espeletia corymbosa Bonpl.&quot; 
                                                         3105074 
                                   &quot;Espeletia murilloi Cuatrec.&quot; 
                                                         3105074 
                                   &quot;Espeletia murilloi Cuatrec.&quot; 
                                                         8916618 
&quot;Espeletia occidentalis subsp. antioquensis (Cuatrec.) Cuatrec.&quot; 
                                                         9490665 
        &quot;Espeletia standleyana subsp. ampla (Cuatrec.) Cuatrec.&quot; 
                                                         9300498 
       &quot;Espeletia standleyana subsp. laxior (Cuatrec.) Cuatrec.&quot; </code></pre>
</div>
<h3 data-number="1.3.4" id="explorar-las-classificaciones"><span class="header-section-number">1.3.4</span> Explorar las classificaciones</h3>
<p>Ejemplo de uso de <code>classification</code>, con los 5 primeros taxones de la tabla de resultados:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>result</span><span class='op'>$</span><span class='va'>scientificname</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;Espeletia ×almorzana f. latifolia Cuatrec.&quot;            
[2] &quot;Espeletia argentea f. phaneractis (S.F.Blake) Cuatrec.&quot;
[3] &quot;Espeletia brassicoidea f. constricta Cuatrec.&quot;         
[4] &quot;Espeletia brassicoidea f. minorifolia Cuatrec.&quot;        
[5] &quot;Espeletia brassicoidea f. contracta Cuatrec.&quot;          </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='op'>(</span><span class='va'>gbifid_1_5</span><span class='op'>&lt;-</span><span class='fu'><a href='https://docs.ropensci.org/taxize/reference/get_gbifid.html'>as.gbifid</a></span><span class='op'>(</span><span class='va'>result</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>,<span class='st'>"usagekey"</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] &quot;4208332&quot; &quot;4208269&quot; &quot;4208151&quot; &quot;4208144&quot; &quot;4208147&quot;
attr(,&quot;class&quot;)
[1] &quot;gbifid&quot;
attr(,&quot;match&quot;)
[1] &quot;found&quot; &quot;found&quot; &quot;found&quot; &quot;found&quot; &quot;found&quot;
attr(,&quot;multiple_matches&quot;)
[1] FALSE FALSE FALSE FALSE FALSE
attr(,&quot;pattern_match&quot;)
[1] FALSE FALSE FALSE FALSE FALSE
attr(,&quot;uri&quot;)
[1] &quot;https://www.gbif.org/species/4208332&quot;
[2] &quot;https://www.gbif.org/species/4208269&quot;
[3] &quot;https://www.gbif.org/species/4208151&quot;
[4] &quot;https://www.gbif.org/species/4208144&quot;
[5] &quot;https://www.gbif.org/species/4208147&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://docs.ropensci.org/taxize/reference/classification.html'>classification</a></span><span class='op'>(</span><span class='va'>gbifid_1_5</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>$`4208332`
                           name    rank      id
1                       Plantae kingdom       6
2                  Tracheophyta  phylum 7707728
3                 Magnoliopsida   class     220
4                     Asterales   order     414
5                    Asteraceae  family    3065
6                     Espeletia   genus 3105048
7           Espeletia almorzana species 3105071
8 Espeletia almorzana latifolia    form 4208332

$`4208269`
                            name    rank      id
1                        Plantae kingdom       6
2                   Tracheophyta  phylum 7707728
3                  Magnoliopsida   class     220
4                      Asterales   order     414
5                     Asteraceae  family    3065
6                      Espeletia   genus 3105048
7             Espeletia argentea species 3105124
8 Espeletia argentea phaneractis    form 4208269

$`4208151`
                               name    rank      id
1                           Plantae kingdom       6
2                      Tracheophyta  phylum 7707728
3                     Magnoliopsida   class     220
4                         Asterales   order     414
5                        Asteraceae  family    3065
6                         Espeletia   genus 3105048
7            Espeletia brassicoidea species 3105113
8 Espeletia brassicoidea constricta    form 4208151

$`4208144`
                                name    rank      id
1                            Plantae kingdom       6
2                       Tracheophyta  phylum 7707728
3                      Magnoliopsida   class     220
4                          Asterales   order     414
5                         Asteraceae  family    3065
6                          Espeletia   genus 3105048
7             Espeletia brassicoidea species 3105113
8 Espeletia brassicoidea minorifolia    form 4208144

$`4208147`
                              name    rank      id
1                          Plantae kingdom       6
2                     Tracheophyta  phylum 7707728
3                    Magnoliopsida   class     220
4                        Asterales   order     414
5                       Asteraceae  family    3065
6                        Espeletia   genus 3105048
7           Espeletia conglomerata species 3105117
8 Espeletia brassicoidea contracta    form 4208147

attr(,&quot;class&quot;)
[1] &quot;classification&quot;
attr(,&quot;db&quot;)
[1] &quot;gbif&quot;</code></pre>
</div>
<h2 data-number="1.4" id="alternativa-utilizar-taxizedb"><span class="header-section-number">1.4</span> Alternativa: utilizar <code>taxizedb</code></h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/taxizedb/'>taxizedb</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rsqlite.r-dbi.org'>RSQLite</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>La gran ventaja de <code>taxizedb</code> es que descarga la base de datos publica en una base de datos local (usualmente SQLite) que va a servir para las funciones de R, pero que se puede también leer gracias a los comandos que hemos aprendido en SQL. Pueden notar que <code>taxadb</code> es otro paquete que funciona igual a taxizedb.</p>
<p>La desventaja de esos paquetes es que no reconocen nombres de taxones que no están escritos exactamente igual…
Así que mi consejo para los tratamientos clasicos es:</p>
<ol type="1">
<li>buscar los nombres que tienen en <code>taxizedb</code></li>
<li>anotar los nombres que no tienen correspondencias</li>
<li>buscar los nombres que faltan en <code>taxize</code></li>
<li>corregir los nombres con sus correspondancias encontradas en <code>taxize</code></li>
<li>volver a <code>taxize</code> para todos los tratamientos taxonomicos.</li>
</ol>
<h3 data-number="1.4.1" id="descargar-la-base-de-datos-publica"><span class="header-section-number">1.4.1</span> Descargar la base de datos publica</h3>
<p>Vamos a utilizar gbif, pero <code>taxizedb</code> permite descargar las bases de datos taxonómicas de</p>
<ul>
<li>NCBI</li>
<li>ITIS</li>
<li>The PlantList</li>
<li>Catologue of Life</li>
<li>GBIF</li>
<li>Wikidata</li>
<li>World Flora Online</li>
</ul>
<p>La base de datos de Gbif (“backbone”) se descarga de la manera siguiente</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>dbGbif</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/db_download.html'>db_download_gbif</a></span><span class='op'>(</span>verbose <span class='op'>=</span> <span class='cn'>T</span>, overwrite <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span> <span class='co'># de vez en cuando utilizar overwrite=T para hacer un update de los taxones</span></span></code></pre>
</div>
</div>
<h3 data-number="1.4.2" id="opcional-mirar-la-base-de-datos-en-sql"><span class="header-section-number">1.4.2</span> (opcional) Mirar la base de datos en SQL</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gbif_taxo</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dbi.r-dbi.org/reference/dbConnect.html'>dbConnect</a></span><span class='op'>(</span><span class='fu'><a href='https://rsqlite.r-dbi.org/reference/SQLite.html'>SQLite</a></span><span class='op'>(</span><span class='op'>)</span>, dbname <span class='op'>=</span> <span class='va'>dbGbif</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbListTables.html'>dbListTables</a></span><span class='op'>(</span><span class='va'>gbif_taxo</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] &quot;gbif&quot;</code></pre>
</div>
<p>La base de datos consiste en una tabla taxonomica:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbGetQuery.html'>dbGetQuery</a></span><span class='op'>(</span><span class='va'>gbif_taxo</span>, <span class='st'>"SELECT * FROM gbif ORDER BY random() LIMIT 10"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>    taxonID                            datasetID parentNameUsageID
1   3955660 7ddf754f-d193-4cc9-b351-99906754a03b           8645040
2  10672559 7ddf754f-d193-4cc9-b351-99906754a03b           9388829
3   9553600 7ddf754f-d193-4cc9-b351-99906754a03b           1335011
4   9277640 7ddf754f-d193-4cc9-b351-99906754a03b           4988796
5   3561961 a6c6cead-b5ce-4a4e-8cf5-1542ba708dec           2601179
6   7728515 7ddf754f-d193-4cc9-b351-99906754a03b           2307356
7   1532982 7ddf754f-d193-4cc9-b351-99906754a03b           1532919
8   1532528 7ddf754f-d193-4cc9-b351-99906754a03b           1532044
9   8392741 7ddf754f-d193-4cc9-b351-99906754a03b           1346028
10  6137356 7ddf754f-d193-4cc9-b351-99906754a03b           1344814
   acceptedNameUsageID originalNameUsageID
1              8442127             5622336
2                                         
3                                         
4              7456370                    
5              2601191                    
6                                         
7                                  1532988
8                                  1532532
9              4495113                    
10             5040525                    
                                                          scientificName
1  Pseudozygocactus epiphylloides subsp. bradei (Porto &amp; A.Cast.) Doweld
2                                             Didymella coffeicola Speg.
3                                Megachile ypiranguensis Schrottky, 1913
4                                     Batenus meurguesianus Morvan, 1996
5                              Nephromium laevigatum var. reagens Norman
6                                       Siboglinum nonatoi Tommasi, 1970
7                                     Pipizella viduata (Linnaeus, 1758)
8                                        Spilogona dispar (Fallén, 1823)
9                           Tachysphex maracandicus (Radoszkowski, 1877)
10                                          Crocisa vachali Friese, 1905
   scientificNameAuthorship                         canonicalName
1  (Porto &amp; A.Cast.) Doweld Pseudozygocactus epiphylloides bradei
2                     Speg.                  Didymella coffeicola
3           Schrottky, 1913               Megachile ypiranguensis
4              Morvan, 1996                 Batenus meurguesianus
5                    Norman         Nephromium laevigatum reagens
6             Tommasi, 1970                    Siboglinum nonatoi
7          (Linnaeus, 1758)                     Pipizella viduata
8            (Fallén, 1823)                      Spilogona dispar
9      (Radoszkowski, 1877)               Tachysphex maracandicus
10             Friese, 1905                       Crocisa vachali
        genericName specificEpithet infraspecificEpithet  taxonRank
1  Pseudozygocactus   epiphylloides               bradei subspecies
2         Didymella      coffeicola                         species
3         Megachile   ypiranguensis                         species
4           Batenus   meurguesianus                         species
5        Nephromium      laevigatum              reagens    variety
6        Siboglinum         nonatoi                         species
7         Pipizella         viduata                         species
8         Spilogona          dispar                         species
9        Tachysphex    maracandicus                         species
10          Crocisa         vachali                         species
   nameAccordingTo
1                 
2                 
3                 
4                 
5                 
6                 
7                 
8                 
9                 
10                
                                                                                                                                                                                                                                                                             namePublishedIn
1                                                                                                                                                                                                                               Doweld. (n.d.). In: Sukkulenty 4(1-2): 42 (2001 Publ. 2002).
2                                                                                                                                                                                                                                       (1922). Anal. Mus. Nac. Hist. Nat. B. Aires 31: 411.
3                                                                                                                                                                                      Schrottky, C. (1913). As especies brazileiras do Genero Megachile. Revista Do Museu Paulista, Vol. 9.
4                                                               Morvan, P. Le genre Batenus MOTSCHULSKY, 1864: redéfinition; descriptions d&#39;espèces nouvelles d&#39;Asie (Coleoptera, Carabidae, Platynina). -. Bulletin de la Société Entomologique de France, 101 (1): 35-48. (Paris). (1996).
5                                                                                                                                                                                                                                                                                           
6                                                                          Tommasi, L. R. (1970). On two new species of Pogonophora from the south western Atlantic Ocean. Papéis Avulsos De Zoologia, 23: 115. https://www.marinespecies.org/polychaeta/aphia.php?p=sourcedetails&amp;id=190203
7                                                                                                                                                                               Linnaeus, C. 1758. Systema naturae... Ed. 10, Vol. 1. 824 pp. L. Salvii, Holmiae [= Stockholm]. [1758.01.01]
8  Fallén, C.F. 1820-1825. Monographia Muscidum Sveciae. Pp. 1-12 [1820.06.13], 13-24 [1820.06.13], 25-40 [1820.06.14]; Pp. 41-48 [1821.06.06]; pp. 49-56 [1823.04.26], 57-64 [1823.05.31]; pp. 65-72 [1824.12.09]; pp. 73-80 [1825.04.23], 81-94 [1825.06.18]. Berlingianis, Lundae [=Lund]
9                                                                                                                                                                                                                                                                                           
10                                                                                                                                              Friese, H. (1905). Die Crocisa-Arten Afrikas. Verhandlungen Der Kaiserlich-Königlichen Zoologisch-Botanischen Gesellschaft in Wien, Vol. 55.
   taxonomicStatus nomenclaturalStatus taxonRemarks  kingdom
1          synonym                                   Plantae
2         accepted                                     Fungi
3         accepted                                  Animalia
4          synonym                                  Animalia
5          synonym                                     Fungi
6         accepted                                  Animalia
7         accepted                                  Animalia
8         accepted                                  Animalia
9          synonym                                  Animalia
10         synonym                                  Animalia
         phylum           clazz         ordder         family
1  Tracheophyta   Magnoliopsida Caryophyllales      Cactaceae
2    Ascomycota Dothideomycetes   Pleosporales  Didymellaceae
3    Arthropoda         Insecta    Hymenoptera   Megachilidae
4    Arthropoda         Insecta     Coleoptera      Carabidae
5    Ascomycota Lecanoromycetes   Peltigerales Nephromataceae
6      Annelida      Polychaeta      Sabellida   Siboglinidae
7    Arthropoda         Insecta        Diptera      Syrphidae
8    Arthropoda         Insecta        Diptera       Muscidae
9    Arthropoda         Insecta    Hymenoptera    Crabronidae
10   Arthropoda         Insecta    Hymenoptera         Apidae
           genus
1  Schlumbergera
2      Didymella
3      Megachile
4       Platynus
5       Nephroma
6     Siboglinum
7      Pipizella
8      Spilogona
9     Tachysphex
10       Thyreus</code></pre>
</div>
<p>Salir y cerrar la puerta:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbDisconnect.html'>dbDisconnect</a></span><span class='op'>(</span><span class='va'>gbif_taxo</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 data-number="1.4.3" id="buscar-la-lista-de-los-taxones-de-espeletia"><span class="header-section-number">1.4.3</span> Buscar la lista de los taxones de Espeletia</h3>
<p>Buscar:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>foundTaxizeDb</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/name2taxid.html'>name2taxid</a></span><span class='op'>(</span><span class='va'>espeletia_name</span>, db<span class='op'>=</span><span class='st'>"gbif"</span>,out_type <span class='op'>=</span> <span class='st'>"summary"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Cuales están encontrados:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>foundOk</span> <span class='op'>&lt;-</span> <span class='va'>espeletia_name</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>foundTaxizeDb</span><span class='op'>$</span><span class='va'>name</span></span></code></pre>
</div>
</div>
<p>Lista de los que no encontramos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>espeletia_name</span><span class='op'>[</span><span class='op'>!</span><span class='va'>foundOk</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code> [1] &quot;Espeletia almorzana f. latifolia&quot;              
 [2] &quot;Espeletia argentea f. phaneractis&quot;             
 [3] &quot;Espeletia brassicoidea f. constricta&quot;          
 [4] &quot;Espeletia brassicoidea f. minorifolia&quot;         
 [5] &quot;Espeletia brassicoidea fo. contracta&quot;          
 [6] &quot;Espeletia grandiflora f. longiligulata&quot;        
 [7] &quot;Espeletia grandiflora f. multiflora&quot;           
 [8] &quot;Espeletia grandiflora fo. longiligulata&quot;       
 [9] &quot;Espeletia grandiflora fo. multiflora&quot;          
[10] &quot;Espeletia grandiflora fo. reducta&quot;             
[11] &quot;Espeletia grandiflora f. reducta&quot;              
[12] &quot;Espeletia incana f. prolificens&quot;               
[13] &quot;Espeletia lopezii f. alticola&quot;                 
[14] &quot;Espeletia lopezii fo. alticola&quot;                
[15] &quot;Espeletia pachoana f. brevifolia&quot;              
[16] &quot;Espeletia petiolata fo. corymbosa&quot;             
[17] &quot;Espeletia petiolata fo. reducta&quot;               
[18] &quot;Espeletia pycnophylla f. cochensis&quot;            
[19] &quot;Espeletia tunjana f. magnificens&quot;              
[20] &quot;Espeletia haughtii&quot;                            
[21] &quot;Espeletia robertii&quot;                            
[22] &quot;Espeletia argentea subsp. phaneractis&quot;         
[23] &quot;Espeletia brachyaxiantha subsp. brachyaxiantha&quot;
[24] &quot;Espeletia brassicoidea subsp. angusta&quot;         
[25] &quot;Espeletia hartwegiana subsp. barragensis&quot;      
[26] &quot;Espeletia hartwegiana subsp. centroandina&quot;     
[27] &quot;Espeletia occidentalis subsp. antioquensis&quot;    
[28] &quot;Espeletia pycnophylla subsp. angelensis&quot;       
[29] &quot;Espeletia annemariana var. rupicola&quot;           
[30] &quot;Espeletia brassicoidea var. constricta&quot;        
[31] &quot;Espeletia brassicoidea var. lancifolia&quot;        
[32] &quot;Espeletia brassicoidea var. minorifolia&quot;       
[33] &quot;Espeletia conglomerata var. lanceolata&quot;        
[34] &quot;Espeletia conglomerata var. macroclada&quot;        
[35] &quot;Espeletia conglomerata var. pedunculata&quot;       
[36] &quot;Espeletia corymbosa var. foliosa&quot;              
[37] &quot;Espeletia grandiflora var. attenuata&quot;          
[38] &quot;Espeletia grandiflora var. bocayana&quot;           
[39] &quot;Espeletia grandiflora var. boyacana&quot;           
[40] &quot;Espeletia grandiflora var. grandiflora&quot;        
[41] &quot;Espeletia grandiflora var. subnivalis&quot;         
[42] &quot;Espeletia hartwegiana var. hartwegiana&quot;        
[43] &quot;Espeletia hartwegiana var. morarum&quot;            
[44] &quot;Espeletia hartwegiana var. vegasana&quot;           
[45] &quot;Espeletia killipii var. chicasana&quot;             
[46] &quot;Espeletia killipii var. chisacana&quot;             
[47] &quot;Espeletia lopezii var. escobalensis&quot;           
[48] &quot;Espeletia lopezii var. major&quot;                  
[49] &quot;Espeletia murilloi var. rusiana&quot;               
[50] &quot;Espeletia murilloi var. subcoriacea&quot;           
[51] &quot;Espeletia occidentalis var. antioquensis&quot;      
[52] &quot;Espeletia petiolata var. escobensis&quot;           
[53] &quot;Espeletia pycnophylla var. galerana&quot;           
[54] &quot;Espeletia pycnophylla var. lacinulata&quot;         
[55] &quot;Espeletia pycnophylla var. pycnophylla&quot;        
[56] &quot;Espeletia rositae var. macrocephala&quot;           
[57] &quot;Espeletia rositae var. monocephala&quot;            
[58] &quot;Espeletia standleyana var. ampla&quot;              
[59] &quot;Espeletia standleyana var. laxior&quot;             </code></pre>
</div>
<p>Información sobre los taxones que encontramos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/taxid2name.html'>taxid2name</a></span><span class='op'>(</span><span class='va'>foundTaxizeDb</span><span class='op'>$</span><span class='va'>id</span>, db<span class='op'>=</span><span class='st'>"gbif"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>  [1] &quot;Espeletia&quot;                  &quot;Espeletia&quot;                 
  [3] &quot;Espeletia almorzana&quot;        &quot;Espeletia alternifolia&quot;    
  [5] &quot;Espeletia annemariana&quot;      &quot;Espeletia arbelaezii&quot;      
  [7] &quot;Espeletia argentea&quot;         &quot;Espeletia argentea&quot;        
  [9] &quot;Espeletia ariana&quot;           &quot;Espeletia azucarina&quot;       
 [11] &quot;Espeletia barclayana&quot;       &quot;Espeletia bogotensis&quot;      
 [13] &quot;Espeletia boyacensis&quot;       &quot;Espeletia brachyaxiantha&quot;  
 [15] &quot;Espeletia brassicoidea&quot;     &quot;Espeletia cabrerensis&quot;     
 [17] &quot;Espeletia cachaluensis&quot;     &quot;Espeletia caldasii&quot;        
 [19] &quot;Espeletia canescens&quot;        &quot;Espeletia cardonae&quot;        
 [21] &quot;Espeletia cayetana&quot;         &quot;Espeletia centroandina&quot;    
 [23] &quot;Espeletia chardonii&quot;        &quot;Espeletia chocontana&quot;      
 [25] &quot;Espeletia chontalensis&quot;     &quot;Espeletia cleefii&quot;         
 [27] &quot;Espeletia cochensis&quot;        &quot;Espeletia colombiana&quot;      
 [29] &quot;Espeletia congestiflora&quot;    &quot;Espeletia conglomerata&quot;    
 [31] &quot;Espeletia corymbosa&quot;        &quot;Espeletia corymbosa&quot;       
 [33] &quot;Espeletia corymbosa&quot;        &quot;Espeletia corymbosa&quot;       
 [35] &quot;Espeletia curialensis&quot;      &quot;Espeletia discoidea&quot;       
 [37] &quot;Espeletia dugandii&quot;         &quot;Espeletia episcopalis&quot;     
 [39] &quot;Espeletia estanislana&quot;      &quot;Espeletia formosa&quot;         
 [41] &quot;Espeletia frontinoensis&quot;    &quot;Espeletia funckii&quot;         
 [43] &quot;Espeletia funckii&quot;          &quot;Espeletia garciae&quot;         
 [45] &quot;Espeletia garcibarrigae&quot;    &quot;Espeletia glandulosa&quot;      
 [47] &quot;Espeletia glossophylla&quot;     &quot;Espeletia grandiflora&quot;     
 [49] &quot;Espeletia grandiflora&quot;      &quot;Espeletia guacharaca&quot;      
 [51] &quot;Espeletia guascensis&quot;       &quot;Espeletia hartwegiana&quot;     
 [53] &quot;Espeletia hartwegiana&quot;      &quot;Espeletia hartwegiana&quot;     
 [55] &quot;Espeletia hartwegiana&quot;      &quot;Espeletia idroboi&quot;         
 [57] &quot;Espeletia incana&quot;           &quot;Espeletia insignis&quot;        
 [59] &quot;Espeletia jaramilloi&quot;       &quot;Espeletia jimenez-quesadae&quot;
 [61] &quot;Espeletia killipii&quot;         &quot;Espeletia leporina&quot;        
 [63] &quot;Espeletia lopezii&quot;          &quot;Espeletia marnixiana&quot;      
 [65] &quot;Espeletia mirabilis&quot;        &quot;Espeletia miradorensis&quot;    
 [67] &quot;Espeletia muiska&quot;           &quot;Espeletia murilloi&quot;        
 [69] &quot;Espeletia mutabilis&quot;        &quot;Espeletia nemekenei&quot;       
 [71] &quot;Espeletia neriifolia&quot;       &quot;Espeletia neriifolia&quot;      
 [73] &quot;Espeletia occidentalis&quot;     &quot;Espeletia oswaldiana&quot;      
 [75] &quot;Espeletia pachoana&quot;         &quot;Espeletia paipana&quot;         
 [77] &quot;Espeletia perijaensis&quot;      &quot;Espeletia pescana&quot;         
 [79] &quot;Espeletia pescana&quot;          &quot;Espeletia petiolata&quot;       
 [81] &quot;Espeletia phaneractis&quot;      &quot;Espeletia pisbana&quot;         
 [83] &quot;Espeletia pleiochasia&quot;      &quot;Espeletia praefrontina&quot;    
 [85] &quot;Espeletia praesidentis&quot;     &quot;Espeletia pulcherrima&quot;     
 [87] &quot;Espeletia purpurascens&quot;     &quot;Espeletia pycnophylla&quot;     
 [89] &quot;Espeletia raquirensis&quot;      &quot;Espeletia roberti&quot;         
 [91] &quot;Espeletia rositae&quot;          &quot;Espeletia santanderensis&quot;  
 [93] &quot;Espeletia schultesiana&quot;     &quot;Espeletia schultzii&quot;       
 [95] &quot;Espeletia sclerophylla&quot;     &quot;Espeletia smithiana&quot;       
 [97] &quot;Espeletia soroca&quot;           &quot;Espeletia standleyana&quot;     
 [99] &quot;Espeletia steyermarkii&quot;     &quot;Espeletia subneriifolia&quot;   
[101] &quot;Espeletia summapacis&quot;       &quot;Espeletia tamana&quot;          
[103] &quot;Espeletia tapirophila&quot;      &quot;Espeletia tibamoensis&quot;     
[105] &quot;Espeletia trianae&quot;          &quot;Espeletia tunjana&quot;         
[107] &quot;Espeletia uribei&quot;           &quot;Espeletia verdeana&quot;        
[109] &quot;Espeletia weddellii&quot;       </code></pre>
</div>
<p>Parece que la base de datos no integra los taxones más precisos que la especie…
Si lo necesitan, pueden intentar con el paquete <code>taxize</code>, o con otras bases de datos.</p>
<h3 data-number="1.4.4" id="explorar-las-posibilidades-de-exploración-taxónomica"><span class="header-section-number">1.4.4</span> Explorar las posibilidades de exploración taxónomica:</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>foundTaxizeDb</span><span class='op'>[</span><span class='fl'>11</span>,<span class='op'>]</span></span></code></pre>
</div>
<pre><code># A tibble: 1 × 2
       id name                
    &lt;int&gt; &lt;chr&gt;               
1 3105057 Espeletia barclayana</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='op'>(</span><span class='va'>id_elegido</span> <span class='op'>&lt;-</span> <span class='va'>foundTaxizeDb</span><span class='op'>[</span><span class='fl'>11</span>,<span class='st'>"id"</span><span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code># A tibble: 1 × 1
       id
    &lt;int&gt;
1 3105057</code></pre>
</div>
<p>Conocer su clasificación taxonomica:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/classification.html'>classification</a></span><span class='op'>(</span><span class='va'>id_elegido</span>, db<span class='op'>=</span><span class='st'>"gbif"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>$`3105057`
                               name    rank      id
1                           Plantae kingdom       6
2                      Tracheophyta  phylum 7707728
3                     Magnoliopsida   class     220
4                         Asterales   order     414
5                        Asteraceae  family    3065
6 Espeletia Mutis ex Humb. &amp; Bonpl.   genus 3105048
7     Espeletia barclayana Cuatrec. species 3105057

attr(,&quot;class&quot;)
[1] &quot;classification&quot;
attr(,&quot;db&quot;)
[1] &quot;gbif&quot;</code></pre>
</div>
<p>Extraer un rango particular:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/taxa_at.html'>taxa_at</a></span><span class='op'>(</span><span class='va'>id_elegido</span>,<span class='st'>"family"</span>,<span class='st'>"gbif"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>$`3105057`
        name   rank   id
5 Asteraceae family 3065

attr(,&quot;class&quot;)
[1] &quot;taxa_at&quot;
attr(,&quot;db&quot;)
[1] &quot;gbif&quot;</code></pre>
</div>
<p>Conocer todos las especies del genero <em>Espeletia</em> (muestro solo los 50 primeros)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='op'>(</span><span class='va'>espeletia_gn</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/integer.html'>as.integer</a></span><span class='op'>(</span><span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/name2taxid.html'>name2taxid</a></span><span class='op'>(</span><span class='st'>"Espeletia"</span>,db<span class='op'>=</span><span class='st'>"gbif"</span>,out_type <span class='op'>=</span> <span class='st'>"summary"</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span>,<span class='st'>"id"</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 3105048</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>espeletia_species</span><span class='op'>&lt;-</span><span class='fu'><a href='https://docs.ropensci.org/taxizedb/reference/children.html'>children</a></span><span class='op'>(</span><span class='va'>espeletia_gn</span>,<span class='st'>"gbif"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>espeletia_species</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>50</span>,<span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>        id
1  3091941
2  3091942
3  3091943
4  3091944
5  3091945
6  3091946
7  3091947
8  3091948
9  3091949
10 3091950
11 3091951
12 3091952
13 3091953
14 3091954
15 3091955
16 3091956
17 3091957
18 3091958
19 3091960
20 3091961
21 3091969
22 3099173
23 3101677
24 3101678
25 3101679
26 3104753
27 3104754
28 3105049
29 3105051
30 3105052
31 3105053
32 3105054
33 3105055
34 3105056
35 3105057
36 3105058
37 3105059
38 3105060
39 3105061
40 3105062
41 3105064
42 3105065
43 3105067
44 3105068
45 3105069
46 3105070
47 3105071
48 3105072
49 3105073
50 3105074
                                                                    name
1                              Libanothamnus lucidus (Aristeg.) Cuatrec.
2                                              Espeletia lucida Aristeg.
3                             Libanothamnus arboreus (Aristeg.) Cuatrec.
4                                             Espeletia arborea Aristeg.
5                          Libanothamnus spectabilis (Cuatrec.) Cuatrec.
6                                         Espeletia spectabilis Cuatrec.
7                              Libanothamnus tamanus (Cuatrec.) Cuatrec.
8                                              Espeletia tamana Cuatrec.
9                                        Libanothamnus parvulus Cuatrec.
10           Libanothamnus ×wurdackii (Ruíz-Terán &amp; López-Fig.) Cuatrec.
11                          Espeletia ×wurdackii Ruíz-Terán &amp; López-Fig.
12            Libanothamnus griffinii (Ruíz Terán &amp; López-Fig.) Cuatrec.
13                           Espeletia griffinii Ruiz Terán &amp; López-Fig.
14                                  Libanothamnus divisoriensis Cuatrec.
15 Libanothamnus banksiaefolius (Sch.Bip. &amp; Ettingsh. ex Wedd.) Cuatrec.
16                             Espeletia banksiaefolia Sch.Bip. ex Wedd.
17                     Libanothamnus neriifolius (Bonpl. ex Humb.) Ernst
18               Espeletia neriifolia (Bonpl. ex Humb.) Sch.Bip ex Wedd.
19                         Libanothamnus liscanoanus (Cuatrec.) Cuatrec.
20                                         Espeletia liscanoana Cuatrec.
21                                           Espeletia occulta S.F.Blake
22                                           Espeletia chardonii A.C.Sm.
23                            Paramiflos glandulosus (Cuatrec.) Cuatrec.
24                                         Espeletia glandulosa Cuatrec.
25                          Espeletiopsis glandulosa (Cuatrec.) Cuatrec.
26                           Clibadium neriifolium (Bonpl. ex Humb.) DC.
27                         Baillieria neriifolia (Bonpl. ex Humb.) Kunth
28                                        Espeletia cabrerensis Cuatrec.
29                                        Espeletia occidentalis A.C.Sm.
30                                         Espeletia chocontana Cuatrec.
31                                          Espeletia azucarina Cuatrec.
32                                        Espeletia pycnophylla Cuatrec.
33                                     Espeletia aristeguietana Cuatrec.
34                                             Espeletia uribei Cuatrec.
35                                         Espeletia barclayana Cuatrec.
36                                      Espeletia frontinoensis Cuatrec.
37                                  Espeletia grandiflora Humb. &amp; Bonpl.
38                                          Espeletia smithiana Cuatrec.
39                                            Espeletia cleefii Cuatrec.
40                                            Espeletia idroboi Cuatrec.
41                                            Espeletia tunjana Cuatrec.
42                                            Espeletia marthae Cuatrec.
43                                        Espeletia tapirophila Cuatrec.
44                                          Espeletia discoidea Cuatrec.
45                                           Espeletia killipii Cuatrec.
46                                            Espeletia rositae Cuatrec.
47                                         Espeletia ×almorzana Cuatrec.
48                                 Espeletia marnixiana S.Díaz &amp; Pedraza
49                                        Espeletia curialensis Cuatrec.
50                                           Espeletia murilloi Cuatrec.
      rank
1  species
2  species
3  species
4  species
5  species
6  species
7  species
8  species
9  species
10 species
11 species
12 species
13 species
14 species
15 species
16 species
17 species
18 species
19 species
20 species
21 species
22 species
23 species
24 species
25 species
26 species
27 species
28 species
29 species
30 species
31 species
32 species
33 species
34 species
35 species
36 species
37 species
38 species
39 species
40 species
41 species
42 species
43 species
44 species
45 species
46 species
47 species
48 species
49 species
50 species</code></pre>
</div>
<h1 data-number="2" id="ejercicio-3-explorar-el-sistema-taxonomico-de-la-base-puerto_wilches"><span class="header-section-number">2</span> Ejercicio 3: Explorar el sistema taxonomico de la base puerto_wilches</h1>
<p>La base puerto_wilches contiene un sistema de manejo de taxonomía que consiste en varios elementos:</p>
<ul>
<li>Una tabla de taxonomía que referencia (por llave foránea) una tabla de definición de rangos taxonómicos</li>
<li>Una función escrita en lenguaje PL/SQL, <code>find_higher_id</code>, que permite buscar, para cada identificador de taxón el identificador de un nivel superior de la classificación</li>
<li>Varios indices que permiten acelerar el proceso de buscar taxones superiores</li>
<li>Un sistema de pseudo-taxones que permite dar nombres específicos en esos estudios a aquellos taxones que no siguen las reglas de la taxonomía formal, pero tienen un valor local para los biólogos</li>
</ul>
<figure>
<img src="Figs/tablas_principales_pwilches.png" alt="Estructura de las tablas principales de la base de datos de Puerto Wilches" />
<figcaption aria-hidden="true">Estructura de las tablas principales de la base de datos de Puerto Wilches</figcaption>
</figure>
<h2 data-number="2.1" id="cargar-paquetes-y-conectarse"><span class="header-section-number">2.1</span> Cargar paquetes y conectarse</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rpostgres.r-dbi.org'>RPostgres</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>pwilches</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dbi.r-dbi.org/reference/dbConnect.html'>dbConnect</a></span><span class='op'>(</span><span class='fu'><a href='https://rpostgres.r-dbi.org/reference/Postgres.html'>Postgres</a></span><span class='op'>(</span><span class='op'>)</span>, dbname<span class='op'>=</span><span class='st'>"puerto_wilches"</span>, host<span class='op'>=</span><span class='st'>"54.94.221.113"</span>, user<span class='op'>=</span><span class='st'>"*****"</span>, password<span class='op'>=</span><span class='st'>"*****"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 data-number="2.2" id="tables-principales-del-sistema-taxonomico"><span class="header-section-number">2.2</span> Tables principales del sistema taxonomico</h2>
<p>Tabla de rangos taxonomicos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb29"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> main.def_tax_rank</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> rank_level</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-29">Table 3: </span>26 records</caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 18%" />
<col style="width: 18%" />
<col style="width: 15%" />
<col style="width: 11%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">cd_rank</th>
<th style="text-align: left;">tax_rank</th>
<th style="text-align: left;">tax_rank_spa</th>
<th style="text-align: right;">rank_level</th>
<th style="text-align: left;">marker</th>
<th style="text-align: left;">placement_marker</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">FORM</td>
<td style="text-align: left;">form</td>
<td style="text-align: left;">forma</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">f.</td>
<td style="text-align: left;">before epithet</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUBVAR</td>
<td style="text-align: left;">subvariety</td>
<td style="text-align: left;">subvariedad</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">subvar.</td>
<td style="text-align: left;">before epithet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VAR</td>
<td style="text-align: left;">variety</td>
<td style="text-align: left;">variedad</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">var.</td>
<td style="text-align: left;">before epithet</td>
</tr>
<tr class="even">
<td style="text-align: left;">SUBSP</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">subespecie</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">subsp.</td>
<td style="text-align: left;">before epithet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SP</td>
<td style="text-align: left;">species</td>
<td style="text-align: left;">especie</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">sp.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SPSP</td>
<td style="text-align: left;">superspecies</td>
<td style="text-align: left;">superespecie</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SGN</td>
<td style="text-align: left;">subgenus</td>
<td style="text-align: left;">subgénero</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">subgen.</td>
<td style="text-align: left;">before epithet</td>
</tr>
<tr class="even">
<td style="text-align: left;">GN</td>
<td style="text-align: left;">genus</td>
<td style="text-align: left;">género</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">gen.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TR</td>
<td style="text-align: left;">tribe</td>
<td style="text-align: left;">tribu</td>
<td style="text-align: right;">21</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SFAM</td>
<td style="text-align: left;">subfamily</td>
<td style="text-align: left;">subfamilia</td>
<td style="text-align: right;">99</td>
<td style="text-align: left;">subfam.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FAM</td>
<td style="text-align: left;">family</td>
<td style="text-align: left;">familia</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">fam.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SPFAM</td>
<td style="text-align: left;">superfamily</td>
<td style="text-align: left;">superfamilia</td>
<td style="text-align: right;">101</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SOR</td>
<td style="text-align: left;">suborder</td>
<td style="text-align: left;">suborden</td>
<td style="text-align: right;">199</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">OR</td>
<td style="text-align: left;">order</td>
<td style="text-align: left;">orden</td>
<td style="text-align: right;">200</td>
<td style="text-align: left;">ord.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LEG</td>
<td style="text-align: left;">legion</td>
<td style="text-align: left;">legión</td>
<td style="text-align: right;">201</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SCL</td>
<td style="text-align: left;">subclass</td>
<td style="text-align: left;">subclase</td>
<td style="text-align: right;">299</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CL</td>
<td style="text-align: left;">class</td>
<td style="text-align: left;">clase</td>
<td style="text-align: right;">300</td>
<td style="text-align: left;">cl.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SPCL</td>
<td style="text-align: left;">superclass</td>
<td style="text-align: left;">superclase</td>
<td style="text-align: right;">301</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SPHY</td>
<td style="text-align: left;">subphylum</td>
<td style="text-align: left;">subfilo</td>
<td style="text-align: right;">399</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">PHY</td>
<td style="text-align: left;">phylum</td>
<td style="text-align: left;">filo</td>
<td style="text-align: right;">400</td>
<td style="text-align: left;">phyl.</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SPPHY</td>
<td style="text-align: left;">superphylum</td>
<td style="text-align: left;">superfilo</td>
<td style="text-align: right;">401</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SKG</td>
<td style="text-align: left;">subkingdom</td>
<td style="text-align: left;">subreino</td>
<td style="text-align: right;">499</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KG</td>
<td style="text-align: left;">kingdom</td>
<td style="text-align: left;">reino</td>
<td style="text-align: right;">500</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">SPKG</td>
<td style="text-align: left;">superkingdom</td>
<td style="text-align: left;">superreino</td>
<td style="text-align: right;">501</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SDOM</td>
<td style="text-align: left;">subdomain</td>
<td style="text-align: left;">subdominio</td>
<td style="text-align: right;">999</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
<tr class="even">
<td style="text-align: left;">DOM</td>
<td style="text-align: left;">domain</td>
<td style="text-align: left;">dominio</td>
<td style="text-align: right;">1000</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">absent</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Tabla taxonomica (anotar que la columna <em>cd_rank</em> corresponde a la columna <em>cd_rank</em> de la tabla <em>def_tax_rank</em>: es una llave foranea)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb30"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> main.taxo</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">random</span>()</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">10</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-30">Table 4: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th style="text-align: right;">cd_tax</th>
<th style="text-align: left;">name_tax</th>
<th style="text-align: left;">authorship</th>
<th style="text-align: left;">cd_rank</th>
<th style="text-align: right;">cd_parent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">182</td>
<td style="text-align: left;">Lecanorales</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">63</td>
</tr>
<tr class="even">
<td style="text-align: right;">247</td>
<td style="text-align: left;">Tabellariales</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1788</td>
<td style="text-align: left;">Hyalinobatrachium</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">418</td>
</tr>
<tr class="even">
<td style="text-align: right;">3007</td>
<td style="text-align: left;">Miconia bubalina</td>
<td style="text-align: left;">(D. Don) Naudin</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">1152</td>
</tr>
<tr class="odd">
<td style="text-align: right;">789</td>
<td style="text-align: left;">Achnanthidium</td>
<td style="text-align: left;">Kützing, 1844</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">266</td>
</tr>
<tr class="even">
<td style="text-align: right;">162</td>
<td style="text-align: left;">Flosculariacea</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">68</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1357</td>
<td style="text-align: left;">Sturmius</td>
<td style="text-align: left;">Bretfeld, 1994</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">713</td>
</tr>
<tr class="even">
<td style="text-align: right;">2255</td>
<td style="text-align: left;">Anartia amathea</td>
<td style="text-align: left;">(Linnaeus, 1758)</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">1453</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3051</td>
<td style="text-align: left;">Mouriri completens</td>
<td style="text-align: left;">(Pittier) Burret</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">1896</td>
</tr>
<tr class="even">
<td style="text-align: right;">859</td>
<td style="text-align: left;">Brachystomella</td>
<td style="text-align: left;">Ågren, 1903</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">394</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2 data-number="2.3" id="uso-en-la-base-de-datos"><span class="header-section-number">2.3</span> Uso en la base de datos</h2>
<p>Así, con este sistema, la tabla de registros contiene solamente la referencia al nivel más preciso posible de la tabla de taxonomía.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb31"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> cd_reg, cd_event, cd_tax, qt_int</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> main.registros</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">random</span>()</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">10</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-31">Table 5: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th style="text-align: right;">cd_reg</th>
<th style="text-align: right;">cd_event</th>
<th style="text-align: right;">cd_tax</th>
<th style="text-align: right;">qt_int</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">127644</td>
<td style="text-align: right;">10143</td>
<td style="text-align: right;">2812</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">89699</td>
<td style="text-align: right;">9393</td>
<td style="text-align: right;">2611</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">21503</td>
<td style="text-align: right;">4270</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">67397</td>
<td style="text-align: right;">9375</td>
<td style="text-align: right;">2341</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">45552</td>
<td style="text-align: right;">9040</td>
<td style="text-align: right;">1397</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="even">
<td style="text-align: right;">88360</td>
<td style="text-align: right;">9351</td>
<td style="text-align: right;">2283</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">97041</td>
<td style="text-align: right;">9421</td>
<td style="text-align: right;">2377</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">121245</td>
<td style="text-align: right;">9354</td>
<td style="text-align: right;">2358</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">121217</td>
<td style="text-align: right;">9399</td>
<td style="text-align: right;">2611</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">64564</td>
<td style="text-align: right;">9453</td>
<td style="text-align: right;">2611</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Si queremos obtener el nombre de los taxones, tenemos que pasar por la tabla de taxonomía:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb32"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span>  cd_reg, cd_event, name_tax, qt_int</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> main.registros</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.taxo <span class="kw">USING</span> (cd_tax)</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-32">Table 6: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th style="text-align: left;">cd_reg</th>
<th style="text-align: right;">cd_event</th>
<th style="text-align: left;">name_tax</th>
<th style="text-align: right;">qt_int</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Scinax rostratus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Engystomops pustulosus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Engystomops pustulosus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Scinax rostratus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Engystomops pustulosus</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Dendrobates truncatus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Engystomops pustulosus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Engystomops pustulosus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Engystomops pustulosus</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Bolitoglossa lozanoi</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Si queremos ver, para cada grupo biologico, cuales son los niveles taxonomicos de los registros, podemos hacer:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb33"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> biol_gp_spa, cd_rank, <span class="fu">count</span>(<span class="kw">DISTINCT</span> cd_reg)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> main.registros r</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.taxo <span class="kw">USING</span> (cd_tax)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.def_tax_rank <span class="kw">USING</span> (cd_rank)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.event e <span class="kw">USING</span> (cd_event)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.gp_event <span class="kw">USING</span> (cd_gp_event)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.def_gp_biol <span class="kw">USING</span> (cd_gp_biol)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> biol_gp_spa, cd_rank, rank_level</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> biol_gp_spa, rank_level</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-33">Table 7: </span>68 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">biol_gp_spa</th>
<th style="text-align: left;">cd_rank</th>
<th style="text-align: right;">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">VAR</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">3548</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">292</td>
</tr>
<tr class="even">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">138</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">CL</td>
<td style="text-align: right;">191</td>
</tr>
<tr class="even">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">SUBSP</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">89</td>
</tr>
<tr class="even">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">CL</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aves</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">10234</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Aves</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">14</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aves</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cameras trampa</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">65644</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cameras trampa</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">1912</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Colémbolos</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">69</td>
</tr>
<tr class="even">
<td style="text-align: left;">Colémbolos</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">4682</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Colémbolos</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">478</td>
</tr>
<tr class="even">
<td style="text-align: left;">Colémbolos</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">719</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">2174</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">343</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">PHY</td>
<td style="text-align: right;">502</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas vasculares</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas vasculares</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Escarabajos</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">2623</td>
</tr>
<tr class="even">
<td style="text-align: left;">Escarabajos</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">1285</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">59</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">2264</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">CL</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Herpetos</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">3104</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Herpetos</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="even">
<td style="text-align: left;">Herpetos</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hormigas</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">8028</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hormigas</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">1215</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hormigas</td>
<td style="text-align: left;">SFAM</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">387</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">121</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">77</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">3349</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">TR</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">SFAM</td>
<td style="text-align: right;">584</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">315</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">SOR</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">142</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">PHY</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mamiferos</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">4142</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mamiferos</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">447</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mamiferos</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">89</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mariposas</td>
<td style="text-align: left;">SUBSP</td>
<td style="text-align: right;">1365</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mariposas</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">2376</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mariposas</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">31</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peces</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">1767</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peces</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">86</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peces</td>
<td style="text-align: left;">SFAM</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">3061</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">FAM</td>
<td style="text-align: right;">201</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">OR</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">CL</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">SP</td>
<td style="text-align: right;">166</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">GN</td>
<td style="text-align: right;">483</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">CL</td>
<td style="text-align: right;">165</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">PHY</td>
<td style="text-align: right;">28</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2 data-number="2.4" id="función-para-obtener-los-rangos-taxonomicos-más-altos"><span class="header-section-number">2.4</span> Función para obtener los rangos taxonomicos más altos</h2>
<p>La función SQL <code>find_higher_id</code>, escrita directamente en la base de datos permite buscar los niveles más alto de la taxonomía.
Toma 2 argumentos:</p>
<ul>
<li>el id del taxón (como escrito en la tabla <em>main.taxo</em>)</li>
<li>el nivel taxonomico (como escrito en la tabla <em>main.def_tax_rank</em>)</li>
</ul>
<p>Acá está el codigo de la función:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbGetQuery.html'>dbGetQuery</a></span><span class='op'>(</span><span class='va'>pwilches</span>,<span class='st'>"SELECT prosrc</span></span>
<span><span class='st'>FROM pg_proc</span></span>
<span><span class='st'>WHERE proname='find_higher_id';"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>prosrc</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
DECLARE
    finallev int;
    starthigher boolean;
    currentid int;
    currentlev smallint;
BEGIN
currentid := id1;
SELECT rank_level INTO finallev FROM main.def_tax_rank WHERE cd_rank=lev;
SELECT r.rank_level INTO currentlev FROM main.taxo n JOIN main.def_tax_rank r ON n.cd_rank=r.cd_rank WHERE cd_tax=currentid;
starthigher := (currentlev&gt;finallev);
IF starthigher THEN
    idfin := NULL;
END IF;

WHILE currentlev IS NOT NULL AND currentlev&lt;finallev LOOP
    SELECT cd_parent INTO currentid FROM main.taxo WHERE main.taxo.cd_tax=currentid;
    SELECT r.rank_level INTO currentlev FROM main.taxo n JOIN main.def_tax_rank r ON n.cd_rank=r.cd_rank WHERE cd_tax=currentid;
    --RAISE NOTICE &#39;current level is (%) \n&#39;, currentlev;
    --RAISE NOTICE &#39;current id is (%) \n&#39;, currentid;   
END LOOP;

IF (currentlev&gt;finallev AND NOT starthigher) THEN
    idfin := NULL;
END IF;

IF (currentlev=finallev) THEN
    idfin := currentid;
END IF;

END;</code></pre>
</div>
<p>Utilizando la función <code>find_higher_id</code>, podemos por ejemplo, conocer la cantidad de registros en cada clase, para cada grupo biológico:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb35"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> biol_gp_spa,name_tax <span class="kw">AS</span> name_class,<span class="fu">count</span>(<span class="kw">DISTINCT</span> cd_reg)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> main.registros r</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.taxo t <span class="kw">ON</span> find_higher_id(r.cd_tax,<span class="st">&#39;CL&#39;</span>)<span class="op">=</span>t.cd_tax</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.def_tax_rank <span class="kw">USING</span> (cd_rank)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.event e <span class="kw">USING</span> (cd_event)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.gp_event <span class="kw">USING</span> (cd_gp_event)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> main.def_gp_biol <span class="kw">USING</span> (cd_gp_biol)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> biol_gp_spa, name_tax</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> biol_gp_spa, <span class="fu">count</span>(<span class="kw">DISTINCT</span> cd_reg)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-35">Table 8: </span>82 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">biol_gp_spa</th>
<th style="text-align: left;">name_class</th>
<th style="text-align: right;">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">Pinopsida</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">Liliopsida</td>
<td style="text-align: right;">61</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arbórea</td>
<td style="text-align: left;">Magnoliopsida</td>
<td style="text-align: right;">4111</td>
</tr>
<tr class="even">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">Aves</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">Amphibia</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="even">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">Mammalia</td>
<td style="text-align: right;">38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Atropellamientos</td>
<td style="text-align: left;">Reptilia</td>
<td style="text-align: right;">38</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aves</td>
<td style="text-align: left;">Aves</td>
<td style="text-align: right;">10249</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cameras trampa</td>
<td style="text-align: left;">Reptilia</td>
<td style="text-align: right;">1299</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cameras trampa</td>
<td style="text-align: left;">Aves</td>
<td style="text-align: right;">25170</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cameras trampa</td>
<td style="text-align: left;">Mammalia</td>
<td style="text-align: right;">41087</td>
</tr>
<tr class="even">
<td style="text-align: left;">Colémbolos</td>
<td style="text-align: left;">Entognatha</td>
<td style="text-align: right;">5948</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Agaricomycetes</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Bryopsida</td>
<td style="text-align: right;">52</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Dothideomycetes</td>
<td style="text-align: right;">61</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Eurotiomycetes</td>
<td style="text-align: right;">83</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Jungermanniopsida</td>
<td style="text-align: right;">293</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">502</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Arthoniomycetes</td>
<td style="text-align: right;">549</td>
</tr>
<tr class="even">
<td style="text-align: left;">Epifitas no vasculares</td>
<td style="text-align: left;">Lecanoromycetes</td>
<td style="text-align: right;">1525</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Epifitas vasculares</td>
<td style="text-align: left;">Liliopsida</td>
<td style="text-align: right;">26</td>
</tr>
<tr class="even">
<td style="text-align: left;">Escarabajos</td>
<td style="text-align: left;">Insecta</td>
<td style="text-align: right;">3908</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Chrysophyceae</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Ulvophyceae</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Xanthophyceae</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Florideophyceae</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Eustigmatophyceae</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Synurophyceae</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Dinophyceae</td>
<td style="text-align: right;">24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Cryptophyceae</td>
<td style="text-align: right;">32</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Coscinodiscophyceae</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Trebouxiophyceae</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Cyanophyceae</td>
<td style="text-align: right;">223</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Chlorophyceae</td>
<td style="text-align: right;">290</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Euglenophyceae</td>
<td style="text-align: right;">354</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Bacillariophyceae</td>
<td style="text-align: right;">624</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fitoplancton</td>
<td style="text-align: left;">Zygnematophyceae</td>
<td style="text-align: right;">699</td>
</tr>
<tr class="even">
<td style="text-align: left;">Herpetos</td>
<td style="text-align: left;">Reptilia</td>
<td style="text-align: right;">914</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Herpetos</td>
<td style="text-align: left;">Amphibia</td>
<td style="text-align: right;">2211</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hormigas</td>
<td style="text-align: left;">Insecta</td>
<td style="text-align: right;">9245</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Bryopsida</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Jungermanniopsida</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Selaginellopsida</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Pteridopsida</td>
<td style="text-align: right;">25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Polypodiopsida</td>
<td style="text-align: right;">52</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Magnoliopsida</td>
<td style="text-align: right;">117</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macrofitas</td>
<td style="text-align: left;">Liliopsida</td>
<td style="text-align: right;">319</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Trepaxonemata</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Entognatha</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Malacostraca</td>
<td style="text-align: right;">27</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Branchiopoda</td>
<td style="text-align: right;">74</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Bivalvia</td>
<td style="text-align: right;">89</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Clitellata</td>
<td style="text-align: right;">115</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Euchelicerata</td>
<td style="text-align: right;">129</td>
</tr>
<tr class="even">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Gastropoda</td>
<td style="text-align: right;">181</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Macroinvertebrados</td>
<td style="text-align: left;">Insecta</td>
<td style="text-align: right;">3845</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mamiferos</td>
<td style="text-align: left;">Insecta</td>
<td style="text-align: right;">59</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mamiferos</td>
<td style="text-align: left;">Mammalia</td>
<td style="text-align: right;">4619</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mariposas</td>
<td style="text-align: left;">Insecta</td>
<td style="text-align: right;">3772</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peces</td>
<td style="text-align: left;">Chondrichthyes</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peces</td>
<td style="text-align: left;">Actinopterygii</td>
<td style="text-align: right;">1855</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Synurophyceae</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Dinophyceae</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Xanthophyceae</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Klebsormidiophyceae</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Cryptophyceae</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Ulvophyceae</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Trebouxiophyceae</td>
<td style="text-align: right;">21</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Coscinodiscophyceae</td>
<td style="text-align: right;">24</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Florideophyceae</td>
<td style="text-align: right;">26</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Euglenophyceae</td>
<td style="text-align: right;">108</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Cyanophyceae</td>
<td style="text-align: right;">219</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Chlorophyceae</td>
<td style="text-align: right;">260</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Zygnematophyceae</td>
<td style="text-align: right;">593</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perifiton</td>
<td style="text-align: left;">Bacillariophyceae</td>
<td style="text-align: right;">2013</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">28</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">Ostracoda</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">Branchiopoda</td>
<td style="text-align: right;">72</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">Lobosa</td>
<td style="text-align: right;">120</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">Maxillopoda</td>
<td style="text-align: right;">205</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zooplancton</td>
<td style="text-align: left;">Monogonta</td>
<td style="text-align: right;">388</td>
</tr>
</tbody>
</table>
</div>
</div>
<h1 data-number="3" id="salir-y-cerrar-la-puerta"><span class="header-section-number">3</span> Salir y cerrar la puerta</h1>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>dbDisconnect</span><span class='op'>(</span><span class='va'>pg_biodata1</span><span class='op'>)</span></span>
<span><span class='fu'>dbDisconnect</span><span class='op'>(</span><span class='va'>pwilches</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
